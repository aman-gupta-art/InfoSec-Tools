{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{MagnifyingGlassIcon,ArrowDownTrayIcon,TrashIcon}from'@heroicons/react/24/outline';import{activityLogApi}from'../services/api.js';import{useAuth}from'../context/AuthContext.tsx';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AuditLogs=()=>{const{isAdmin}=useAuth();const[logs,setLogs]=useState([]);const[filteredLogs,setFilteredLogs]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[searchTerm,setSearchTerm]=useState('');const[currentPage,setCurrentPage]=useState(1);const[itemsPerPage,setItemsPerPage]=useState(10);const[actionFilter,setActionFilter]=useState('');const[allActions,setAllActions]=useState([]);const[showClearConfirmation,setShowClearConfirmation]=useState(false);const[exportLoading,setExportLoading]=useState(false);const[clearLoading,setClearLoading]=useState(false);const[successMessage,setSuccessMessage]=useState(null);// Define fetchLogs with useCallback\nconst fetchLogs=useCallback(async()=>{try{setLoading(true);const response=await activityLogApi.getLogs({page:currentPage,size:itemsPerPage,search:searchTerm,action:actionFilter});const logsData=Array.isArray(response.data.logs)?response.data.logs:[];setLogs(logsData);setFilteredLogs(logsData);// Extract all unique actions for the dropdown\nif(logsData.length>0){const actions=[...new Set(logsData.map(log=>log.action))];setAllActions(prevActions=>{// Combine previous actions with new ones to maintain the dropdown state\nconst combinedActions=[...new Set([...prevActions,...actions])];return combinedActions;});}setError(null);}catch(err){console.error('Error fetching activity logs:',err);setError('Failed to load activity logs. Please try again later.');setLogs([]);setFilteredLogs([]);}finally{setLoading(false);}},[currentPage,itemsPerPage,searchTerm,actionFilter]);// Fetch logs on component mount\nuseEffect(()=>{fetchLogs();},[fetchLogs]);// Handle export logs\nconst handleExport=async()=>{try{setExportLoading(true);const response=await activityLogApi.exportLogs({search:searchTerm,action:actionFilter});// Create a blob from the response\nconst blob=new Blob([response.data],{type:'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'});// Create a download link\nconst url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.setAttribute('download','audit_logs_export.xlsx');// Append to the document, click it, and remove it\ndocument.body.appendChild(link);link.click();document.body.removeChild(link);setSuccessMessage('Logs exported successfully');setTimeout(()=>setSuccessMessage(null),3000);}catch(err){console.error('Error exporting logs:',err);setError('Failed to export logs. Please try again later.');}finally{setExportLoading(false);}};// Handle clear all logs\nconst handleClearLogs=async()=>{try{setClearLoading(true);await activityLogApi.clearAllLogs();// Refresh logs\nfetchLogs();setSuccessMessage('All logs cleared successfully');setTimeout(()=>setSuccessMessage(null),3000);setShowClearConfirmation(false);}catch(err){console.error('Error clearing logs:',err);setError('Failed to clear logs. Please try again later.');}finally{setClearLoading(false);}};// Format date and time\nconst formatDateTime=dateTimeString=>{const date=new Date(dateTimeString);return date.toLocaleString();};// Pagination calculations\nconst indexOfLastItem=currentPage*itemsPerPage;const indexOfFirstItem=indexOfLastItem-itemsPerPage;const totalPages=Math.ceil((Array.isArray(filteredLogs)?filteredLogs.length:0)/itemsPerPage);// Change page handler\nconst paginate=pageNumber=>setCurrentPage(pageNumber);// Handle items per page change\nconst handleItemsPerPageChange=event=>{setItemsPerPage(parseInt(event.target.value));setCurrentPage(1);};if(loading&&!exportLoading&&!clearLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex h-full min-h-[400px] items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-12 w-12 animate-spin rounded-full border-4 border-primary-600 border-t-transparent\"})});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-white mb-8\",children:\"Audit Logs\"}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-success-100 dark:bg-success-900/30 border border-success-200 text-success-700 dark:text-success-300 rounded mb-4\",role:\"alert\",children:/*#__PURE__*/_jsx(\"span\",{className:\"block sm:inline\",children:successMessage})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-danger-100 dark:bg-danger-900/30 border border-danger-200 text-danger-700 dark:text-danger-300 rounded mb-4\",role:\"alert\",children:/*#__PURE__*/_jsx(\"span\",{className:\"block sm:inline\",children:error})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 card p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-1/3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search logs...\",className:\"form-input pl-10\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-1/4\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-input\",value:actionFilter,onChange:e=>setActionFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Actions\"}),allActions.map(action=>/*#__PURE__*/_jsx(\"option\",{value:action,children:action},action))]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleExport,disabled:exportLoading,className:\"btn-primary\",children:[exportLoading?/*#__PURE__*/_jsx(\"div\",{className:\"h-4 w-4 mr-2 animate-spin rounded-full border-2 border-white border-t-transparent\"}):/*#__PURE__*/_jsx(ArrowDownTrayIcon,{className:\"h-4 w-4 mr-2\"}),\"Export\"]}),isAdmin()&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowClearConfirmation(true),className:\"btn-danger\",children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4 mr-2\"}),\"Clear Logs\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-32\",children:\"Timestamp\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-28\",children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-28\",children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Details\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\",children:logs.length>0?logs.map(log=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors duration-150\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:formatDateTime(log.createdAt)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:log.username}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm\",children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(log.action==='CREATE'?'status-badge-success':log.action==='DELETE'?'status-badge-danger':log.action==='UPDATE'?'status-badge-warning':'status-badge-info'),children:log.action})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-normal text-sm text-gray-500 dark:text-gray-300 break-all\",children:log.description})]},log.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:4,className:\"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-300\",children:loading?'Loading logs...':'No logs found'})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700 dark:text-gray-300\",children:[\"Showing \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:indexOfFirstItem+1}),\" to\",' ',/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:Math.min(indexOfLastItem,filteredLogs.length)}),' ',\"of \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:filteredLogs.length}),\" results\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"border border-gray-300 dark:border-gray-600 rounded-md p-2 dark:bg-gray-800 dark:text-white\",value:itemsPerPage,onChange:handleItemsPerPageChange,children:[/*#__PURE__*/_jsx(\"option\",{value:5,children:\"5 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:10,children:\"10 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:25,children:\"25 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50 per page\"})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\",\"aria-label\":\"Pagination\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>paginate(Math.max(1,currentPage-1)),className:\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\",disabled:currentPage===1,children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Previous\"}),\"\\u2190\"]}),Array.from({length:Math.min(5,totalPages)}).map((_,idx)=>{const pageToShow=currentPage<=3?idx+1:currentPage>=totalPages-2?totalPages-4+idx:currentPage-2+idx;if(pageToShow>0&&pageToShow<=totalPages){return/*#__PURE__*/_jsx(\"button\",{onClick:()=>paginate(pageToShow),className:\"relative inline-flex items-center px-4 py-2 border \".concat(currentPage===pageToShow?'bg-primary-600 text-white z-10 border-primary-600':'bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700'),children:pageToShow},pageToShow);}return null;}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>paginate(Math.min(totalPages,currentPage+1)),className:\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\",disabled:currentPage===totalPages,children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Next\"}),\"\\u2192\"]})]})]})]})})]}),showClearConfirmation&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 transition-opacity\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gray-500 bg-opacity-75 dark:bg-opacity-90\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline-block sm:align-middle sm:h-screen\",\"aria-hidden\":\"true\",children:\"\\u200B\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card inline-block align-bottom rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sm:flex sm:items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-danger-100 dark:bg-danger-900/30 sm:mx-0 sm:h-10 sm:w-10\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-6 w-6 text-danger-600 dark:text-danger-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium leading-6 text-gray-900 dark:text-white\",children:\"Clear All Logs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:\"Are you sure you want to clear all activity logs? This action cannot be undone.\"})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn-danger ml-3\",onClick:handleClearLogs,disabled:clearLoading,children:[clearLoading?/*#__PURE__*/_jsx(\"div\",{className:\"h-4 w-4 mr-2 animate-spin rounded-full border-2 border-white border-t-transparent\"}):null,\"Clear All\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-ghost\",onClick:()=>setShowClearConfirmation(false),children:\"Cancel\"})]})]})]})})]});};export default AuditLogs;","map":{"version":3,"names":["React","useState","useEffect","useCallback","MagnifyingGlassIcon","ArrowDownTrayIcon","TrashIcon","activityLogApi","useAuth","jsx","_jsx","jsxs","_jsxs","AuditLogs","isAdmin","logs","setLogs","filteredLogs","setFilteredLogs","loading","setLoading","error","setError","searchTerm","setSearchTerm","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","actionFilter","setActionFilter","allActions","setAllActions","showClearConfirmation","setShowClearConfirmation","exportLoading","setExportLoading","clearLoading","setClearLoading","successMessage","setSuccessMessage","fetchLogs","response","getLogs","page","size","search","action","logsData","Array","isArray","data","length","actions","Set","map","log","prevActions","combinedActions","err","console","handleExport","exportLogs","blob","Blob","type","url","window","URL","createObjectURL","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","setTimeout","handleClearLogs","clearAllLogs","formatDateTime","dateTimeString","date","Date","toLocaleString","indexOfLastItem","indexOfFirstItem","totalPages","Math","ceil","paginate","pageNumber","handleItemsPerPageChange","event","parseInt","target","value","className","children","role","placeholder","onChange","e","onClick","disabled","scope","createdAt","username","concat","description","id","colSpan","min","max","from","_","idx","pageToShow"],"sources":["C:/Users/pimsupport/Desktop/Projects/PROD/NEW_1/frontend/src/pages/AuditLogs.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { \r\n  MagnifyingGlassIcon, \r\n  ArrowDownTrayIcon, \r\n  TrashIcon \r\n} from '@heroicons/react/24/outline';\r\nimport { activityLogApi } from '../services/api.js';\r\nimport { useAuth } from '../context/AuthContext.tsx';\r\n\r\ninterface ActivityLog {\r\n  id: number;\r\n  userId: number;\r\n  username: string;\r\n  action: string;\r\n  description: string;\r\n  ipAddress: string;\r\n  createdAt: string;\r\n}\r\n\r\nconst AuditLogs: React.FC = () => {\r\n  const { isAdmin } = useAuth();\r\n  const [logs, setLogs] = useState<ActivityLog[]>([]);\r\n  const [filteredLogs, setFilteredLogs] = useState<ActivityLog[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage, setItemsPerPage] = useState(10);\r\n  const [actionFilter, setActionFilter] = useState('');\r\n  const [allActions, setAllActions] = useState<string[]>([]);\r\n  const [showClearConfirmation, setShowClearConfirmation] = useState(false);\r\n  const [exportLoading, setExportLoading] = useState(false);\r\n  const [clearLoading, setClearLoading] = useState(false);\r\n  const [successMessage, setSuccessMessage] = useState<string | null>(null);\r\n\r\n  // Define fetchLogs with useCallback\r\n  const fetchLogs = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const response = await activityLogApi.getLogs({\r\n        page: currentPage,\r\n        size: itemsPerPage,\r\n        search: searchTerm,\r\n        action: actionFilter\r\n      });\r\n      \r\n      const logsData = Array.isArray(response.data.logs) ? response.data.logs : [];\r\n      \r\n      setLogs(logsData);\r\n      setFilteredLogs(logsData);\r\n      \r\n      // Extract all unique actions for the dropdown\r\n      if (logsData.length > 0) {\r\n        const actions = [...new Set(logsData.map(log => log.action))];\r\n        setAllActions(prevActions => {\r\n          // Combine previous actions with new ones to maintain the dropdown state\r\n          const combinedActions = [...new Set([...prevActions, ...actions])] as string[];\r\n          return combinedActions;\r\n        });\r\n      }\r\n      \r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Error fetching activity logs:', err);\r\n      setError('Failed to load activity logs. Please try again later.');\r\n      setLogs([]);\r\n      setFilteredLogs([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [currentPage, itemsPerPage, searchTerm, actionFilter]);\r\n\r\n  // Fetch logs on component mount\r\n  useEffect(() => {\r\n    fetchLogs();\r\n  }, [fetchLogs]);\r\n\r\n  // Handle export logs\r\n  const handleExport = async () => {\r\n    try {\r\n      setExportLoading(true);\r\n      \r\n      const response = await activityLogApi.exportLogs({\r\n        search: searchTerm,\r\n        action: actionFilter\r\n      });\r\n      \r\n      // Create a blob from the response\r\n      const blob = new Blob([response.data], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\r\n      \r\n      // Create a download link\r\n      const url = window.URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', 'audit_logs_export.xlsx');\r\n      \r\n      // Append to the document, click it, and remove it\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      \r\n      setSuccessMessage('Logs exported successfully');\r\n      setTimeout(() => setSuccessMessage(null), 3000);\r\n    } catch (err) {\r\n      console.error('Error exporting logs:', err);\r\n      setError('Failed to export logs. Please try again later.');\r\n    } finally {\r\n      setExportLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle clear all logs\r\n  const handleClearLogs = async () => {\r\n    try {\r\n      setClearLoading(true);\r\n      \r\n      await activityLogApi.clearAllLogs();\r\n      \r\n      // Refresh logs\r\n      fetchLogs();\r\n      \r\n      setSuccessMessage('All logs cleared successfully');\r\n      setTimeout(() => setSuccessMessage(null), 3000);\r\n      setShowClearConfirmation(false);\r\n    } catch (err) {\r\n      console.error('Error clearing logs:', err);\r\n      setError('Failed to clear logs. Please try again later.');\r\n    } finally {\r\n      setClearLoading(false);\r\n    }\r\n  };\r\n\r\n  // Format date and time\r\n  const formatDateTime = (dateTimeString: string) => {\r\n    const date = new Date(dateTimeString);\r\n    return date.toLocaleString();\r\n  };\r\n\r\n  // Pagination calculations\r\n  const indexOfLastItem = currentPage * itemsPerPage;\r\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n  const totalPages = Math.ceil((Array.isArray(filteredLogs) ? filteredLogs.length : 0) / itemsPerPage);\r\n\r\n  // Change page handler\r\n  const paginate = (pageNumber: number) => setCurrentPage(pageNumber);\r\n\r\n  // Handle items per page change\r\n  const handleItemsPerPageChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n    setItemsPerPage(parseInt(event.target.value));\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  if (loading && !exportLoading && !clearLoading) {\r\n    return (\r\n      <div className=\"flex h-full min-h-[400px] items-center justify-center\">\r\n        <div className=\"h-12 w-12 animate-spin rounded-full border-4 border-primary-600 border-t-transparent\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-8\">Audit Logs</h1>\r\n      \r\n      {/* Success message */}\r\n      {successMessage && (\r\n        <div className=\"p-3 bg-success-100 dark:bg-success-900/30 border border-success-200 text-success-700 dark:text-success-300 rounded mb-4\" role=\"alert\">\r\n          <span className=\"block sm:inline\">{successMessage}</span>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Error message */}\r\n      {error && (\r\n        <div className=\"p-3 bg-danger-100 dark:bg-danger-900/30 border border-danger-200 text-danger-700 dark:text-danger-300 rounded mb-4\" role=\"alert\">\r\n          <span className=\"block sm:inline\">{error}</span>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Search and filter controls */}\r\n      <div className=\"mb-6 card p-4\">\r\n        <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n          {/* Search input */}\r\n          <div className=\"w-full md:w-1/3\">\r\n            <div className=\"relative\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search logs...\"\r\n                className=\"form-input pl-10\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n              />\r\n              <MagnifyingGlassIcon className=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" />\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Action Filter */}\r\n          <div className=\"w-full md:w-1/4\">\r\n            <select \r\n              className=\"form-input\"\r\n              value={actionFilter}\r\n              onChange={(e) => setActionFilter(e.target.value)}\r\n            >\r\n              <option value=\"\">All Actions</option>\r\n              {allActions.map((action) => (\r\n                <option key={action} value={action}>{action}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          {/* Export and Clear buttons */}\r\n          <div className=\"flex space-x-2\">\r\n            <button\r\n              onClick={handleExport}\r\n              disabled={exportLoading}\r\n              className=\"btn-primary\"\r\n            >\r\n              {exportLoading ? (\r\n                <div className=\"h-4 w-4 mr-2 animate-spin rounded-full border-2 border-white border-t-transparent\"></div>\r\n              ) : (\r\n                <ArrowDownTrayIcon className=\"h-4 w-4 mr-2\" />\r\n              )}\r\n              Export\r\n            </button>\r\n            \r\n            {isAdmin() && (\r\n              <button\r\n                onClick={() => setShowClearConfirmation(true)}\r\n                className=\"btn-danger\"\r\n              >\r\n                <TrashIcon className=\"h-4 w-4 mr-2\" />\r\n                Clear Logs\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Logs table */}\r\n      <div className=\"table-container\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\r\n            <thead className=\"bg-gray-50 dark:bg-gray-700\">\r\n              <tr>\r\n                <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-32\">Timestamp</th>\r\n                <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-28\">User</th>\r\n                <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-28\">Action</th>\r\n                <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Details</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\r\n              {logs.length > 0 ? (\r\n                logs.map((log) => (\r\n                  <tr key={log.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors duration-150\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{formatDateTime(log.createdAt)}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{log.username}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\r\n                      <span className={`status-badge ${\r\n                        log.action === 'CREATE' ? 'status-badge-success' : \r\n                        log.action === 'DELETE' ? 'status-badge-danger' : \r\n                        log.action === 'UPDATE' ? 'status-badge-warning' : \r\n                        'status-badge-info'\r\n                      }`}>\r\n                        {log.action}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-normal text-sm text-gray-500 dark:text-gray-300 break-all\">{log.description}</td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td colSpan={4} className=\"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-300\">\r\n                    {loading ? 'Loading logs...' : 'No logs found'}\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        \r\n        {/* Pagination */}\r\n        <div className=\"px-6 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700\">\r\n          <div className=\"flex-1 flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-700 dark:text-gray-300\">\r\n                Showing <span className=\"font-medium\">{indexOfFirstItem + 1}</span> to{' '}\r\n                <span className=\"font-medium\">\r\n                  {Math.min(indexOfLastItem, filteredLogs.length)}\r\n                </span>{' '}\r\n                of <span className=\"font-medium\">{filteredLogs.length}</span> results\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <select\r\n                className=\"border border-gray-300 dark:border-gray-600 rounded-md p-2 dark:bg-gray-800 dark:text-white\"\r\n                value={itemsPerPage}\r\n                onChange={handleItemsPerPageChange}\r\n              >\r\n                <option value={5}>5 per page</option>\r\n                <option value={10}>10 per page</option>\r\n                <option value={25}>25 per page</option>\r\n                <option value={50}>50 per page</option>\r\n              </select>\r\n              <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\" aria-label=\"Pagination\">\r\n                <button\r\n                  onClick={() => paginate(Math.max(1, currentPage - 1))}\r\n                  className=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\r\n                  disabled={currentPage === 1}\r\n                >\r\n                  <span className=\"sr-only\">Previous</span>\r\n                  &larr;\r\n                </button>\r\n                {Array.from({ length: Math.min(5, totalPages) }).map((_, idx) => {\r\n                  const pageToShow = currentPage <= 3 \r\n                    ? idx + 1 \r\n                    : currentPage >= totalPages - 2 \r\n                      ? totalPages - 4 + idx \r\n                      : currentPage - 2 + idx;\r\n                  \r\n                  if (pageToShow > 0 && pageToShow <= totalPages) {\r\n                    return (\r\n                      <button\r\n                        key={pageToShow}\r\n                        onClick={() => paginate(pageToShow)}\r\n                        className={`relative inline-flex items-center px-4 py-2 border ${\r\n                          currentPage === pageToShow\r\n                            ? 'bg-primary-600 text-white z-10 border-primary-600'\r\n                            : 'bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n                        }`}\r\n                      >\r\n                        {pageToShow}\r\n                      </button>\r\n                    );\r\n                  }\r\n                  return null;\r\n                })}\r\n                <button\r\n                  onClick={() => paginate(Math.min(totalPages, currentPage + 1))}\r\n                  className=\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\r\n                  disabled={currentPage === totalPages}\r\n                >\r\n                  <span className=\"sr-only\">Next</span>\r\n                  &rarr;\r\n                </button>\r\n              </nav>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Clear Logs Confirmation Modal */}\r\n      {showClearConfirmation && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n            <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\r\n              <div className=\"absolute inset-0 bg-gray-500 bg-opacity-75 dark:bg-opacity-90\"></div>\r\n            </div>\r\n            <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\r\n            <div className=\"card inline-block align-bottom rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\r\n              <div className=\"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n                <div className=\"sm:flex sm:items-start\">\r\n                  <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-danger-100 dark:bg-danger-900/30 sm:mx-0 sm:h-10 sm:w-10\">\r\n                    <TrashIcon className=\"h-6 w-6 text-danger-600 dark:text-danger-400\" />\r\n                  </div>\r\n                  <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\r\n                    <h3 className=\"text-lg font-medium leading-6 text-gray-900 dark:text-white\">\r\n                      Clear All Logs\r\n                    </h3>\r\n                    <div className=\"mt-2\">\r\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                        Are you sure you want to clear all activity logs? This action cannot be undone.\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"btn-danger ml-3\"\r\n                  onClick={handleClearLogs}\r\n                  disabled={clearLoading}\r\n                >\r\n                  {clearLoading ? (\r\n                    <div className=\"h-4 w-4 mr-2 animate-spin rounded-full border-2 border-white border-t-transparent\"></div>\r\n                  ) : null}\r\n                  Clear All\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn-ghost\"\r\n                  onClick={() => setShowClearConfirmation(false)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuditLogs; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}