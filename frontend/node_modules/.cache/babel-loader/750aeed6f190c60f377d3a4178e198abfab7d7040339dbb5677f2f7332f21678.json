{"ast":null,"code":"import _objectSpread from\"C:/Users/sahil/OneDrive/Desktop/InfoSec Tools/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback}from'react';import{MagnifyingGlassIcon,ArrowDownTrayIcon,ArrowUpTrayIcon,ChevronDownIcon,ChevronUpIcon,DocumentArrowDownIcon,PlusIcon,XMarkIcon,TrashIcon}from'@heroicons/react/24/outline';import{serverApi}from'../services/api.js';import{useAuth}from'../context/AuthContext.tsx';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ServerInventory=()=>{const{isAdmin}=useAuth();const[servers,setServers]=useState([]);const[filteredServers,setFilteredServers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[searchTerm,setSearchTerm]=useState('');const[sortConfig,setSortConfig]=useState({key:'hostname',direction:'asc'});const[currentPage,setCurrentPage]=useState(1);const[itemsPerPage,setItemsPerPage]=useState(10);const[totalItems,setTotalItems]=useState(0);const[totalPages,setTotalPages]=useState(1);const[fileUploadError,setFileUploadError]=useState(null);const[fileUploadSuccess,setFileUploadSuccess]=useState(null);const[filters,setFilters]=useState({operatingSystem:'',location:'',applicationOwner:'',status:''});const[allServers,setAllServers]=useState([]);const[queryParams,setQueryParams]=useState({page:1,size:10,search:'',operatingSystem:'',location:'',applicationOwner:'',status:'',sort:'hostname',order:'asc'});const[showAddModal,setShowAddModal]=useState(false);const[newServerData,setNewServerData]=useState({hostname:'',ipAddress:'',operatingSystem:'',serverRole:'',serverType:'',applicationName:'',applicationSPOC:'',applicationOwner:'',platform:'',location:'',manufacturer:'',ram:'',cpu:'',status:'new'});const[showClearAllConfirmation,setShowClearAllConfirmation]=useState(false);// Add this with other refs at the top of the component\nconst searchTimeoutRef=useRef(null);// Add a local state for the search input value\nconst[searchInputValue,setSearchInputValue]=useState('');// Add a ref for the search input\nconst searchInputRef=useRef(null);const navigate=useNavigate();// First, add a state for the edit modal and selected server\nconst[showEditModal,setShowEditModal]=useState(false);const[selectedServer,setSelectedServer]=useState(null);const[showDeleteConfirmation,setShowDeleteConfirmation]=useState(false);useEffect(()=>{// Initial fetch of all servers for filter options\nfetchAllServers();// Initial fetch of paginated data\nfetchServers();},[]);// Initialize the search input value from URL params and focus it\nuseEffect(()=>{const params=new URLSearchParams(window.location.search);// Get search parameter\nconst searchParam=params.get('search');if(searchParam){setSearchTerm(searchParam);setSearchInputValue(searchParam);}// Get sort parameters\nconst sortByParam=params.get('sortBy');const orderParam=params.get('order');if(sortByParam&&isValidServerField(sortByParam)){setSortConfig({key:sortByParam,direction:orderParam==='asc'||orderParam==='desc'?orderParam:'asc'});}// Get page parameter\nconst pageParam=params.get('page');if(pageParam){const page=parseInt(pageParam,10);if(!isNaN(page)&&page>0){setCurrentPage(page);}}// Focus the search input after component mounts or page refreshes\nif(searchInputRef.current){searchInputRef.current.focus();// Place cursor at the end of the text\nconst length=searchInputRef.current.value.length;searchInputRef.current.setSelectionRange(length,length);}},[]);// Define fetchServers with proper dependencies\nconst fetchServers=useCallback(async()=>{setLoading(true);try{const params=new URLSearchParams();// Add pagination\nparams.append('page',currentPage.toString());params.append('limit',itemsPerPage.toString());// Add sorting - use sortBy and sortOrder as expected by the backend\nparams.append('sortBy',sortConfig.key);params.append('order',sortConfig.direction);// Changed from sortOrder to order to match backend\n// Add search term if present\nif(searchTerm){params.append('search',searchTerm);}// Add filters\nObject.entries(filters).forEach(_ref=>{let[key,value]=_ref;if(value&&value!=='All'){params.append(key,value);}});// Log the request for debugging\nconsole.log(\"Fetching servers with params: \".concat(params.toString()));// Make the API call\nconst response=await serverApi.getServers(params);// Log the response for debugging\nconsole.log(\"Received \".concat(response.data.servers.length,\" servers, sorted by \").concat(response.data.sort,\" in \").concat(response.data.order,\" order\"));// Update state with response data\nsetServers(response.data.servers);setFilteredServers(response.data.servers);// Keep filteredServers in sync\nsetTotalPages(response.data.totalPages);setTotalItems(response.data.totalCount);setError(null);}catch(error){console.error('Error fetching servers:',error);setError('Failed to load server data. Please try again later.');}finally{setLoading(false);}},[currentPage,itemsPerPage,sortConfig.key,sortConfig.direction,searchTerm,filters]);// Effect to update URL when parameters change\nuseEffect(()=>{// Update URL with current parameters\nconst params=new URLSearchParams();// Add pagination\nparams.append('page',currentPage.toString());// Add sorting - use sortBy and order to match backend API\nparams.append('sortBy',sortConfig.key);params.append('order',sortConfig.direction);// Add search term if present\nif(searchTerm){params.append('search',searchTerm);}// Add filters\nObject.entries(filters).forEach(_ref2=>{let[key,value]=_ref2;if(value&&value!=='All'){params.append(key,value);}});// Update URL without causing page refresh\nnavigate(\"?\".concat(params.toString()),{replace:true});},[currentPage,itemsPerPage,sortConfig.key,sortConfig.direction,filters,searchTerm,navigate]);// Separate effect to fetch servers when parameters change\nuseEffect(()=>{fetchServers();},[fetchServers]);// Fetch all servers for filter options\nconst fetchAllServers=async()=>{try{const response=await serverApi.getServers({size:1000});const mappedServers=response.data.servers.map(server=>_objectSpread(_objectSpread({},server),{},{ipAddress:server.ip||server.ipAddress}));setAllServers(mappedServers);}catch(err){console.error('Error fetching all servers for filters:',err);}};// Debug function to check API calls\nconst logApiCall=(action,params)=>{console.log(\"\".concat(action,\" with params:\"),params);};// Get filter options based on currently selected filters - improved for all dropdowns\nconst getFilterOptions=()=>{// Start with all servers\nlet filteredServers=[...allServers];// Apply current filters to get the filtered set of servers\nconst filters_map={operatingSystem:filters.operatingSystem,location:filters.location,applicationOwner:filters.applicationOwner,status:filters.status};// Helper function to filter servers based on current selections except the target field\nconst getFilteredServersExcept=exceptField=>{return allServers.filter(server=>{return Object.entries(filters_map).filter(_ref3=>{let[field]=_ref3;return field!==exceptField&&filters_map[field]!=='';}).every(_ref4=>{let[field,value]=_ref4;// Ensure the server[field] exists and matches the filter value\nreturn server[field]===value;});});};// Get unique values for each filter, filtered by other selections\nconst operatingSystems=[...new Set(getFilteredServersExcept('operatingSystem').map(server=>server.operatingSystem).filter(Boolean))].sort();const locations=[...new Set(getFilteredServersExcept('location').map(server=>server.location).filter(Boolean))].sort();const applicationOwners=[...new Set(getFilteredServersExcept('applicationOwner').map(server=>server.applicationOwner).filter(Boolean))].sort();// For statuses, filter based on all other selections\nconst filteredForStatus=getFilteredServersExcept('status');const availableStatuses=[...new Set(filteredForStatus.map(server=>server.status).filter(Boolean))];// Ensure all possible statuses are included even if not in filtered servers\nconst statuses=['live','shutdown','new'].filter(status=>availableStatuses.length===0||availableStatuses.includes(status));return{operatingSystems,locations,applicationOwners,statuses};};// Helper function to focus the search input\nconst focusSearchInput=()=>{setTimeout(()=>{if(searchInputRef.current){searchInputRef.current.focus();const length=searchInputRef.current.value.length;searchInputRef.current.setSelectionRange(length,length);}},0);};// Modify the page change handler to use the helper function\nconst handlePageChange=pageNumber=>{setCurrentPage(pageNumber);focusSearchInput();};// Modify the filter change handler to use the helper function\nconst handleFilterChange=(field,value)=>{setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value==='All'?undefined:value}));setCurrentPage(1);// Reset to first page when filters change\nfocusSearchInput();};// Modify the sort handler to use the helper function\nconst handleSort=key=>{setSortConfig({key,direction:sortConfig.key===key&&sortConfig.direction==='asc'?'desc':'asc'});focusSearchInput();};// Get sort icon\nconst getSortIcon=columnName=>{if(sortConfig.key!==columnName){return null;}return sortConfig.direction==='asc'?/*#__PURE__*/_jsx(ChevronUpIcon,{className:\"h-4 w-4 ml-1\"}):/*#__PURE__*/_jsx(ChevronDownIcon,{className:\"h-4 w-4 ml-1\"});};// Also focus search input after reset filters\nconst resetFilters=()=>{setFilters({operatingSystem:'',location:'',applicationOwner:'',status:''});setSearchTerm('');setSearchInputValue('');setCurrentPage(1);focusSearchInput();};// Handle search with debouncing\nconst handleSearchChange=e=>{const value=e.target.value;setSearchInputValue(value);// Update the input value immediately for UI feedback\n// Clear any existing timeout\nif(searchTimeoutRef.current){clearTimeout(searchTimeoutRef.current);}// Set a new timeout to delay the search execution\nsearchTimeoutRef.current=setTimeout(()=>{setSearchTerm(value);setCurrentPage(1);// Reset to first page when search changes\n},300);// 300ms delay for better responsiveness\n};// Add this to component to clean up timeout on unmount\nuseEffect(()=>{return()=>{if(searchTimeoutRef.current){clearTimeout(searchTimeoutRef.current);}};},[]);// Pagination logic\nconst indexOfLastItem=currentPage*itemsPerPage;const indexOfFirstItem=indexOfLastItem-itemsPerPage;// Handle items per page change\nconst handleItemsPerPageChange=event=>{const newSize=Number(event.target.value);setItemsPerPage(newSize);setQueryParams(prev=>_objectSpread(_objectSpread({},prev),{},{size:newSize,page:1}));};const handleDownloadTemplate=async()=>{try{const response=await serverApi.getImportTemplate();// Create a download link and trigger it\nconst url=window.URL.createObjectURL(new Blob([response.data]));const link=document.createElement('a');link.href=url;link.setAttribute('download','server_import_template.xlsx');document.body.appendChild(link);link.click();link.remove();}catch(err){console.error('Error downloading template:',err);setFileUploadError('Failed to download template. Please try again.');setTimeout(()=>setFileUploadError(null),5000);}};const handleExport=async()=>{try{// Build export parameters based on current filters\nconst params={};if(searchTerm)params.search=searchTerm;if(filters.operatingSystem)params.operatingSystem=filters.operatingSystem;if(filters.location)params.location=filters.location;if(filters.applicationOwner)params.applicationOwner=filters.applicationOwner;if(filters.status)params.status=filters.status;const response=await serverApi.exportServers(params);// Create a download link and trigger it\nconst url=window.URL.createObjectURL(new Blob([response.data]));const link=document.createElement('a');link.href=url;link.setAttribute('download','servers_export.xlsx');document.body.appendChild(link);link.click();link.remove();setFileUploadSuccess('Servers exported successfully!');setTimeout(()=>setFileUploadSuccess(null),3000);}catch(err){console.error('Error exporting servers:',err);setFileUploadError('Failed to export servers. Please try again.');setTimeout(()=>setFileUploadError(null),5000);}};const handleFileUpload=async event=>{if(!event.target.files||event.target.files.length===0){return;}const file=event.target.files[0];const formData=new FormData();formData.append('file',file);try{setLoading(true);const response=await serverApi.importServers(formData);setFileUploadSuccess(\"Import successful: \".concat(response.data.success,\" servers added, \").concat(response.data.failed,\" failed.\"));// Refresh server list\nfetchServers();}catch(err){var _err$response,_err$response$data;console.error('Error uploading file:',err);setFileUploadError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to import servers. Please try again.');}finally{setLoading(false);// Reset file input\nevent.target.value='';}};// New function to handle form input changes\nconst handleInputChange=e=>{const{name,value}=e.target;setNewServerData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};// New function to handle server creation\nconst handleAddServer=async e=>{e.preventDefault();try{// Format data for backend\nconst serverData=_objectSpread(_objectSpread({},newServerData),{},{ip:newServerData.ipAddress// Map ipAddress to ip for backend\n});// Send to backend\nawait serverApi.createServer(serverData);// Refresh the server list\nfetchServers();// Close modal and reset form\nsetShowAddModal(false);setNewServerData({hostname:'',ipAddress:'',operatingSystem:'',serverRole:'',serverType:'',applicationName:'',applicationSPOC:'',applicationOwner:'',platform:'',location:'',manufacturer:'',ram:'',cpu:'',status:'new'});// Show success message\nsetFileUploadSuccess('Server added successfully');setTimeout(()=>setFileUploadSuccess(null),3000);}catch(err){console.error('Error adding server:',err);setFileUploadError('Failed to add server. Please try again.');setTimeout(()=>setFileUploadError(null),5000);}};const handleClearAllServers=async()=>{try{setLoading(true);await serverApi.clearAllServers();setFileUploadSuccess('All servers have been cleared successfully');setShowClearAllConfirmation(false);fetchServers();// Refresh the server list (should be empty now)\n}catch(err){console.error('Error clearing servers:',err);setFileUploadError('Failed to clear servers. Please try again.');}finally{setLoading(false);setTimeout(()=>setFileUploadSuccess(null),3000);}};// Helper function to check if a field is valid for a Server\nconst isValidServerField=field=>{return['id','hostname','ip','ipAddress','operatingSystem','serverRole','serverType','applicationName','applicationSPOC','applicationOwner','location','manufacturer','ram','cpu','status','createdAt','updatedAt','platform'].includes(field);};// Add a function to handle server edit\nconst handleEditServer=server=>{setSelectedServer(server);setShowEditModal(true);};// Add a function to handle server delete confirmation\nconst handleDeleteConfirmation=server=>{setSelectedServer(server);setShowDeleteConfirmation(true);};// Add a function to handle server deletion\nconst handleDeleteServer=async()=>{if(!selectedServer)return;try{setLoading(true);await serverApi.deleteServer(selectedServer.id);// Show success message\nsetFileUploadSuccess(\"Server \".concat(selectedServer.hostname,\" deleted successfully\"));// Refresh the server list\nfetchServers();// Close modal\nsetShowDeleteConfirmation(false);setSelectedServer(null);}catch(error){console.error('Error deleting server:',error);setFileUploadError('Failed to delete server. Please try again.');}finally{setLoading(false);setTimeout(()=>setFileUploadSuccess(null),3000);}};// Add a function to handle server update\nconst handleUpdateServer=async e=>{e.preventDefault();if(!selectedServer)return;try{setLoading(true);// Create a copy of server data\nconst serverData=_objectSpread({},selectedServer);// Use ipAddress value for ip and remove ipAddress to avoid duplication\nif(serverData.ipAddress){serverData.ip=serverData.ipAddress;delete serverData.ipAddress;}// Validate status field\nif(serverData.status&&!['live','shutdown','new'].includes(serverData.status.toLowerCase())){setFileUploadError('Invalid status value. Must be one of: live, shutdown, new');setLoading(false);return;}// Send to backend\nawait serverApi.updateServer(selectedServer.id,serverData);// Refresh the server list\nfetchServers();// Close modal and reset form\nsetShowEditModal(false);setSelectedServer(null);// Show success message\nsetFileUploadSuccess('Server updated successfully');}catch(error){console.error('Error updating server:',error);// Display more detailed error message if available\nif(error.response&&error.response.data&&error.response.data.message){setFileUploadError(\"Failed to update server: \".concat(error.response.data.message));if(error.response.data.error){console.error('Detailed error:',error.response.data.error);}}else{setFileUploadError('Failed to update server. Please try again.');}}finally{setLoading(false);setTimeout(()=>setFileUploadSuccess(null),3000);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex h-full min-h-[400px] items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-12 w-12 animate-spin rounded-full border-4 border-primary-600 border-t-transparent\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 dark:bg-red-900/30 border border-red-400 text-red-700 dark:text-red-400 px-4 py-3 rounded mb-4\",role:\"alert\",children:/*#__PURE__*/_jsx(\"span\",{className:\"block sm:inline\",children:error})});}// Generate filter options dynamically\nconst filterOptions=getFilterOptions();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-white mb-8\",children:\"Server Inventory\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 card p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-1/3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{ref:searchInputRef,type:\"text\",placeholder:\"Search servers...\",className:\"form-input pl-10\",value:searchInputValue,onChange:handleSearchChange,autoFocus:true}),/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[isAdmin()&&/*#__PURE__*/_jsxs(\"button\",{className:\"btn-success\",onClick:()=>setShowAddModal(true),children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"Add Server\"]}),isAdmin()&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"btn-primary cursor-pointer\",children:[/*#__PURE__*/_jsx(ArrowUpTrayIcon,{className:\"h-4 w-4 mr-2\"}),\"Import\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"hidden\",onChange:handleFileUpload,accept:\".xlsx,.xls,.csv\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-primary\",onClick:handleExport,children:[/*#__PURE__*/_jsx(ArrowDownTrayIcon,{className:\"h-4 w-4 mr-2\"}),\"Export\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",onClick:handleDownloadTemplate,children:[/*#__PURE__*/_jsx(DocumentArrowDownIcon,{className:\"h-4 w-4 mr-2\"}),\"Template\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-danger\",onClick:()=>setShowClearAllConfirmation(true),children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4 mr-2\"}),\"Clear All\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"Operating System\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-input\",value:filters.operatingSystem,onChange:e=>handleFilterChange('operatingSystem',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Operating Systems\"}),filterOptions.operatingSystems.map(os=>/*#__PURE__*/_jsx(\"option\",{value:os,children:os},os))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"Location\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-input\",value:filters.location,onChange:e=>handleFilterChange('location',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Locations\"}),filterOptions.locations.map(location=>/*#__PURE__*/_jsx(\"option\",{value:location,children:location},location))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"Application Owner\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-input\",value:filters.applicationOwner,onChange:e=>handleFilterChange('applicationOwner',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Application Owners\"}),filterOptions.applicationOwners.map(owner=>/*#__PURE__*/_jsx(\"option\",{value:owner,children:owner},owner))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-input\",value:filters.status,onChange:e=>handleFilterChange('status',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Statuses\"}),filterOptions.statuses.map(status=>/*#__PURE__*/_jsx(\"option\",{value:status,children:status},status))]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-ghost\",onClick:resetFilters,children:\"Reset Filters\"})}),fileUploadError&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-danger-100 dark:bg-danger-900/30 border border-danger-200 text-danger-700 dark:text-danger-300 rounded\",children:fileUploadError}),fileUploadSuccess&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-success-100 dark:bg-success-900/30 border border-success-200 text-success-700 dark:text-success-300 rounded\",children:fileUploadSuccess})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('hostname'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[\"Hostname\",getSortIcon('hostname')]})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('ip'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[\"IP Address\",getSortIcon('ip')]})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('operatingSystem'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[\"OS\",getSortIcon('operatingSystem')]})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('serverRole'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[\"Role\",getSortIcon('serverRole')]})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('serverType'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[\"Type\",getSortIcon('serverType')]})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('applicationName'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[\"Application\",getSortIcon('applicationName')]})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('applicationSPOC'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[\"App SPOC\",getSortIcon('applicationSPOC')]})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('applicationOwner'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[\"App Owner\",getSortIcon('applicationOwner')]})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('location'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[\"Location\",getSortIcon('location')]})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('manufacturer'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[\"Manufacturer\",getSortIcon('manufacturer')]})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('ram'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[\"RAM\",getSortIcon('ram')]})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('cpu'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[\"CPU\",getSortIcon('cpu')]})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('status'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[\"Status\",getSortIcon('status')]})}),isAdmin()&&/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:\"Actions\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\",children:filteredServers.length>0?filteredServers.map(server=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors duration-150\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\",children:server.hostname}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:server.ipAddress||server.ip}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:server.operatingSystem}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:server.serverRole}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:server.serverType}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:server.applicationName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:server.applicationSPOC}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:server.applicationOwner}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:server.location}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:server.manufacturer}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:server.ram}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:server.cpu}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm\",children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(server.status==='live'?'status-badge-success':server.status==='shutdown'?'status-badge-danger':'status-badge-info'),children:server.status})}),isAdmin()&&/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditServer(server),className:\"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors duration-200\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteConfirmation(server),className:\"text-danger-600 hover:text-danger-900 dark:text-danger-400 dark:hover:text-danger-300 transition-colors duration-200\",children:\"Delete\"})]})})]},server.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:isAdmin()?14:13,className:\"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-300\",children:\"No servers found\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700 dark:text-gray-300\",children:[\"Showing \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:Math.min(indexOfFirstItem+1,totalItems)}),\" to\",' ',/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:Math.min(indexOfLastItem,totalItems)}),' ',\"of \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:totalItems}),\" results\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"border border-gray-300 dark:border-gray-600 rounded-md p-2 dark:bg-gray-800 dark:text-white\",value:itemsPerPage,onChange:handleItemsPerPageChange,children:[/*#__PURE__*/_jsx(\"option\",{value:5,children:\"5 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:10,children:\"10 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:25,children:\"25 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50 per page\"})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\",\"aria-label\":\"Pagination\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handlePageChange(Math.max(1,currentPage-1)),className:\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\",disabled:currentPage===1,children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Previous\"}),\"\\u2190\"]}),Array.from({length:Math.min(5,totalPages)}).map((_,idx)=>{const pageToShow=currentPage<=3?idx+1:currentPage>=totalPages-2?totalPages-4+idx:currentPage-2+idx;if(pageToShow>0&&pageToShow<=totalPages){return/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(pageToShow),className:\"relative inline-flex items-center px-4 py-2 border \".concat(currentPage===pageToShow?'bg-primary-600 text-white z-10 border-primary-600':'bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700'),children:pageToShow},pageToShow);}return null;}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handlePageChange(Math.min(totalPages,currentPage+1)),className:\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\",disabled:currentPage===totalPages,children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Next\"}),\"\\u2192\"]})]})]})]})})]}),showAddModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 transition-opacity\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gray-500 bg-opacity-75 dark:bg-opacity-90\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline-block sm:align-middle sm:h-screen\",\"aria-hidden\":\"true\",children:\"\\u200B\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card inline-block align-bottom rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium leading-6 text-gray-900 dark:text-white\",children:selectedServer?'Edit Server':'Add New Server'}),/*#__PURE__*/_jsxs(\"button\",{className:\"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 transition-colors duration-150\",onClick:()=>{setShowAddModal(false);setSelectedServer(null);resetForm();},children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Close\"}),/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-6 w-6\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-6\",onSubmit:handleAddServer,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:[\"Hostname \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"hostname\",className:\"form-input\",value:newServerData.hostname,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:[\"IP Address \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ipAddress\",className:\"form-input\",value:newServerData.ipAddress,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:[\"Operating System \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"operatingSystem\",className:\"form-input\",value:newServerData.operatingSystem,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:[\"Location \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"location\",className:\"form-input\",value:newServerData.location,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"RAM\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ram\",className:\"form-input\",value:newServerData.ram,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"CPU\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cpu\",className:\"form-input\",value:newServerData.cpu,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:[\"Status \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{name:\"status\",className:\"form-input\",value:newServerData.status,onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"live\",children:\"Live\"}),/*#__PURE__*/_jsx(\"option\",{value:\"shutdown\",children:\"Shutdown\"}),/*#__PURE__*/_jsx(\"option\",{value:\"maintenance\",children:\"Maintenance\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"Application Owner\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"applicationOwner\",className:\"form-input\",value:newServerData.applicationOwner,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"Technical Owner\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"technicalOwner\",className:\"form-input\",value:newServerData.technicalOwner,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"File System\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"fileSystem\",className:\"form-input\",value:newServerData.fileSystem,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"Environment\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"environment\",className:\"form-input\",value:newServerData.environment,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Environment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"production\",children:\"Production\"}),/*#__PURE__*/_jsx(\"option\",{value:\"development\",children:\"Development\"}),/*#__PURE__*/_jsx(\"option\",{value:\"testing\",children:\"Testing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"staging\",children:\"Staging\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"notes\",rows:3,className:\"form-input\",value:newServerData.notes,onChange:handleInputChange})]})]}),fileUploadError&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-danger-100 dark:bg-danger-900/30 border border-danger-200 text-danger-700 dark:text-danger-300 rounded\",children:fileUploadError}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn-primary sm:col-start-2\",disabled:loading,children:[loading?/*#__PURE__*/_jsx(\"div\",{className:\"h-4 w-4 mr-2 animate-spin rounded-full border-2 border-white border-t-transparent\"}):null,selectedServer?'Update Server':'Add Server']}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-ghost mt-3 sm:mt-0\",onClick:()=>{setShowAddModal(false);setSelectedServer(null);resetForm();},children:\"Cancel\"})]})]})]})})]})}),showClearAllConfirmation&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 transition-opacity\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gray-500 bg-opacity-75 dark:bg-opacity-90\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline-block sm:align-middle sm:h-screen\",\"aria-hidden\":\"true\",children:\"\\u200B\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card inline-block align-bottom rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sm:flex sm:items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-danger-100 dark:bg-danger-900/30 sm:mx-0 sm:h-10 sm:w-10\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-6 w-6 text-danger-600 dark:text-danger-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium leading-6 text-gray-900 dark:text-white\",children:\"Clear All Servers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:\"Are you sure you want to clear all servers? This action cannot be undone.\"})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-danger ml-3\",onClick:handleClearAllServers,children:\"Clear All\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-ghost\",onClick:()=>setShowClearAllConfirmation(false),children:\"Cancel\"})]})]})]})}),showEditModal&&selectedServer&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-xl transform transition-all sm:max-w-lg sm:w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pt-5 pb-4 sm:p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sm:flex sm:items-start\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-center sm:mt-0 sm:text-left w-full\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900 dark:text-white\",children:\"Edit Server\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdateServer,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Hostname\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"hostname\",value:selectedServer.hostname,onChange:e=>setSelectedServer(_objectSpread(_objectSpread({},selectedServer),{},{hostname:e.target.value})),className:\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"IP Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ipAddress\",value:selectedServer.ipAddress||selectedServer.ip||'',onChange:e=>setSelectedServer(_objectSpread(_objectSpread({},selectedServer),{},{ipAddress:e.target.value})),className:\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Operating System\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"operatingSystem\",value:selectedServer.operatingSystem,onChange:e=>setSelectedServer(_objectSpread(_objectSpread({},selectedServer),{},{operatingSystem:e.target.value})),className:\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"status\",value:selectedServer.status&&selectedServer.status.toLowerCase(),onChange:e=>setSelectedServer(_objectSpread(_objectSpread({},selectedServer),{},{status:e.target.value.toLowerCase()})),className:\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"live\",children:\"Live\"}),/*#__PURE__*/_jsx(\"option\",{value:\"shutdown\",children:\"Shutdown\"}),/*#__PURE__*/_jsx(\"option\",{value:\"new\",children:\"New\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Server Role\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"serverRole\",value:selectedServer.serverRole||'',onChange:e=>setSelectedServer(_objectSpread(_objectSpread({},selectedServer),{},{serverRole:e.target.value})),className:\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Server Type\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"serverType\",value:selectedServer.serverType||'',onChange:e=>setSelectedServer(_objectSpread(_objectSpread({},selectedServer),{},{serverType:e.target.value})),className:\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Application Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"applicationName\",value:selectedServer.applicationName||'',onChange:e=>setSelectedServer(_objectSpread(_objectSpread({},selectedServer),{},{applicationName:e.target.value})),className:\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Application Owner\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"applicationOwner\",value:selectedServer.applicationOwner||'',onChange:e=>setSelectedServer(_objectSpread(_objectSpread({},selectedServer),{},{applicationOwner:e.target.value})),className:\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"location\",value:selectedServer.location||'',onChange:e=>setSelectedServer(_objectSpread(_objectSpread({},selectedServer),{},{location:e.target.value})),className:\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Manufacturer\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"manufacturer\",value:selectedServer.manufacturer||'',onChange:e=>setSelectedServer(_objectSpread(_objectSpread({},selectedServer),{},{manufacturer:e.target.value})),className:\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"RAM\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ram\",value:selectedServer.ram||'',onChange:e=>setSelectedServer(_objectSpread(_objectSpread({},selectedServer),{},{ram:e.target.value})),className:\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"CPU\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cpu\",value:selectedServer.cpu||'',onChange:e=>setSelectedServer(_objectSpread(_objectSpread({},selectedServer),{},{cpu:e.target.value})),className:\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm\",children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowEditModal(false),className:\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-700 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none sm:mt-0 sm:w-auto sm:text-sm\",children:\"Cancel\"})]})]})})]})})})})}),showDeleteConfirmation&&selectedServer&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 transition-opacity\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gray-500 bg-opacity-75 dark:bg-opacity-90\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline-block sm:align-middle sm:h-screen\",\"aria-hidden\":\"true\",children:\"\\u200B\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card inline-block align-bottom rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sm:flex sm:items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-danger-100 dark:bg-danger-900/30 sm:mx-0 sm:h-10 sm:w-10\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-6 w-6 text-danger-600 dark:text-danger-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium leading-6 text-gray-900 dark:text-white\",children:\"Delete Server\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:[\"Are you sure you want to delete \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:selectedServer.hostname}),\"? This action cannot be undone.\"]})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-danger ml-3\",onClick:handleDeleteServer,children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-ghost\",onClick:()=>setShowDeleteConfirmation(false),children:\"Cancel\"})]})]})]})})]});};export default ServerInventory;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","MagnifyingGlassIcon","ArrowDownTrayIcon","ArrowUpTrayIcon","ChevronDownIcon","ChevronUpIcon","DocumentArrowDownIcon","PlusIcon","XMarkIcon","TrashIcon","serverApi","useAuth","useNavigate","jsx","_jsx","jsxs","_jsxs","ServerInventory","isAdmin","servers","setServers","filteredServers","setFilteredServers","loading","setLoading","error","setError","searchTerm","setSearchTerm","sortConfig","setSortConfig","key","direction","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","totalItems","setTotalItems","totalPages","setTotalPages","fileUploadError","setFileUploadError","fileUploadSuccess","setFileUploadSuccess","filters","setFilters","operatingSystem","location","applicationOwner","status","allServers","setAllServers","queryParams","setQueryParams","page","size","search","sort","order","showAddModal","setShowAddModal","newServerData","setNewServerData","hostname","ipAddress","serverRole","serverType","applicationName","applicationSPOC","platform","manufacturer","ram","cpu","showClearAllConfirmation","setShowClearAllConfirmation","searchTimeoutRef","searchInputValue","setSearchInputValue","searchInputRef","navigate","showEditModal","setShowEditModal","selectedServer","setSelectedServer","showDeleteConfirmation","setShowDeleteConfirmation","fetchAllServers","fetchServers","params","URLSearchParams","window","searchParam","get","sortByParam","orderParam","isValidServerField","pageParam","parseInt","isNaN","current","focus","length","value","setSelectionRange","append","toString","Object","entries","forEach","_ref","console","log","concat","response","getServers","data","totalCount","_ref2","replace","mappedServers","map","server","_objectSpread","ip","err","logApiCall","action","getFilterOptions","filters_map","getFilteredServersExcept","exceptField","filter","_ref3","field","every","_ref4","operatingSystems","Set","Boolean","locations","applicationOwners","filteredForStatus","availableStatuses","statuses","includes","focusSearchInput","setTimeout","handlePageChange","pageNumber","handleFilterChange","prev","undefined","handleSort","getSortIcon","columnName","className","resetFilters","handleSearchChange","e","target","clearTimeout","indexOfLastItem","indexOfFirstItem","handleItemsPerPageChange","event","newSize","Number","handleDownloadTemplate","getImportTemplate","url","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","remove","handleExport","exportServers","handleFileUpload","files","file","formData","FormData","importServers","success","failed","_err$response","_err$response$data","message","handleInputChange","name","handleAddServer","preventDefault","serverData","createServer","handleClearAllServers","clearAllServers","handleEditServer","handleDeleteConfirmation","handleDeleteServer","deleteServer","id","handleUpdateServer","toLowerCase","updateServer","children","role","filterOptions","ref","type","placeholder","onChange","autoFocus","onClick","accept","os","owner","scope","colSpan","Math","min","max","disabled","Array","from","_","idx","pageToShow","resetForm","onSubmit","required","technicalOwner","fileSystem","environment","rows","notes"],"sources":["C:/Users/sahil/OneDrive/Desktop/InfoSec Tools/frontend/src/pages/ServerInventory.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { \r\n  MagnifyingGlassIcon,\r\n  ArrowDownTrayIcon,\r\n  ArrowUpTrayIcon,\r\n  ChevronDownIcon,\r\n  ChevronUpIcon,\r\n  DocumentArrowDownIcon,\r\n  PlusIcon,\r\n  XMarkIcon,\r\n  TrashIcon,\r\n  FunnelIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { serverApi } from '../services/api.js';\r\nimport { useAuth } from '../context/AuthContext.tsx';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\ninterface Server {\r\n  id: number;\r\n  hostname: string;\r\n  ipAddress?: string; // Backend uses ip\r\n  ip?: string;        // Add for compatibility with backend\r\n  operatingSystem: string;\r\n  serverRole: string;\r\n  serverType: string;\r\n  applicationName: string;\r\n  applicationSPOC: string;\r\n  applicationOwner: string;\r\n  platform: string;\r\n  location: string;\r\n  manufacturer: string;\r\n  ram: string;\r\n  cpu: string;\r\n  status: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\ninterface ApiResponse {\r\n  totalItems: number;\r\n  servers: Server[];\r\n  totalPages: number;\r\n  currentPage: number;\r\n}\r\n\r\ninterface SortConfig {\r\n  key: keyof Server;\r\n  direction: 'asc' | 'desc';\r\n}\r\n\r\nconst ServerInventory: React.FC = () => {\r\n  const { isAdmin } = useAuth();\r\n  const [servers, setServers] = useState<Server[]>([]);\r\n  const [filteredServers, setFilteredServers] = useState<Server[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [sortConfig, setSortConfig] = useState<SortConfig>({ key: 'hostname', direction: 'asc' });\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage, setItemsPerPage] = useState(10);\r\n  const [totalItems, setTotalItems] = useState(0);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [fileUploadError, setFileUploadError] = useState<string | null>(null);\r\n  const [fileUploadSuccess, setFileUploadSuccess] = useState<string | null>(null);\r\n  const [filters, setFilters] = useState({\r\n    operatingSystem: '',\r\n    location: '',\r\n    applicationOwner: '',\r\n    status: ''\r\n  });\r\n\r\n  const [allServers, setAllServers] = useState<Server[]>([]);\r\n  const [queryParams, setQueryParams] = useState({\r\n    page: 1,\r\n    size: 10,\r\n    search: '',\r\n    operatingSystem: '',\r\n    location: '',\r\n    applicationOwner: '',\r\n    status: '',\r\n    sort: 'hostname',\r\n    order: 'asc'\r\n  });\r\n\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [newServerData, setNewServerData] = useState<Partial<Server>>({\r\n    \r\n    hostname: '',\r\n    ipAddress: '',\r\n    operatingSystem: '',\r\n    serverRole: '',\r\n    serverType: '',\r\n    applicationName: '',\r\n    applicationSPOC: '',\r\n    applicationOwner: '',\r\n    platform: '',\r\n    location: '',\r\n    manufacturer: '',\r\n    ram: '',\r\n    cpu: '',\r\n    status: 'new'\r\n  });\r\n\r\n  const [showClearAllConfirmation, setShowClearAllConfirmation] = useState(false);\r\n\r\n  // Add this with other refs at the top of the component\r\n  const searchTimeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Add a local state for the search input value\r\n  const [searchInputValue, setSearchInputValue] = useState('');\r\n\r\n  // Add a ref for the search input\r\n  const searchInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // First, add a state for the edit modal and selected server\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [selectedServer, setSelectedServer] = useState<Server | null>(null);\r\n  const [showDeleteConfirmation, setShowDeleteConfirmation] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Initial fetch of all servers for filter options\r\n    fetchAllServers();\r\n    \r\n    // Initial fetch of paginated data\r\n    fetchServers();\r\n  }, []);\r\n\r\n  // Initialize the search input value from URL params and focus it\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(window.location.search);\r\n    \r\n    // Get search parameter\r\n    const searchParam = params.get('search');\r\n    if (searchParam) {\r\n      setSearchTerm(searchParam);\r\n      setSearchInputValue(searchParam);\r\n    }\r\n    \r\n    // Get sort parameters\r\n    const sortByParam = params.get('sortBy');\r\n    const orderParam = params.get('order') as 'asc' | 'desc' | null;\r\n    \r\n    if (sortByParam && isValidServerField(sortByParam)) {\r\n      setSortConfig({\r\n        key: sortByParam as keyof Server,\r\n        direction: orderParam === 'asc' || orderParam === 'desc' ? orderParam : 'asc'\r\n      });\r\n    }\r\n    \r\n    // Get page parameter\r\n    const pageParam = params.get('page');\r\n    if (pageParam) {\r\n      const page = parseInt(pageParam, 10);\r\n      if (!isNaN(page) && page > 0) {\r\n        setCurrentPage(page);\r\n      }\r\n    }\r\n    \r\n    // Focus the search input after component mounts or page refreshes\r\n    if (searchInputRef.current) {\r\n      searchInputRef.current.focus();\r\n      \r\n      // Place cursor at the end of the text\r\n      const length = searchInputRef.current.value.length;\r\n      searchInputRef.current.setSelectionRange(length, length);\r\n    }\r\n  }, []);\r\n\r\n  // Define fetchServers with proper dependencies\r\n  const fetchServers = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams();\r\n      \r\n      // Add pagination\r\n      params.append('page', currentPage.toString());\r\n      params.append('limit', itemsPerPage.toString());\r\n      \r\n      // Add sorting - use sortBy and sortOrder as expected by the backend\r\n      params.append('sortBy', sortConfig.key);\r\n      params.append('order', sortConfig.direction); // Changed from sortOrder to order to match backend\r\n      \r\n      // Add search term if present\r\n      if (searchTerm) {\r\n        params.append('search', searchTerm);\r\n      }\r\n      \r\n      // Add filters\r\n      Object.entries(filters).forEach(([key, value]) => {\r\n        if (value && value !== 'All') {\r\n          params.append(key, value);\r\n        }\r\n      });\r\n      \r\n      // Log the request for debugging\r\n      console.log(`Fetching servers with params: ${params.toString()}`);\r\n      \r\n      // Make the API call\r\n      const response = await serverApi.getServers(params);\r\n      \r\n      // Log the response for debugging\r\n      console.log(`Received ${response.data.servers.length} servers, sorted by ${response.data.sort} in ${response.data.order} order`);\r\n      \r\n      // Update state with response data\r\n      setServers(response.data.servers);\r\n      setFilteredServers(response.data.servers); // Keep filteredServers in sync\r\n      setTotalPages(response.data.totalPages);\r\n      setTotalItems(response.data.totalCount);\r\n      \r\n      setError(null);\r\n    } catch (error) {\r\n      console.error('Error fetching servers:', error);\r\n      setError('Failed to load server data. Please try again later.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [currentPage, itemsPerPage, sortConfig.key, sortConfig.direction, searchTerm, filters]);\r\n\r\n  // Effect to update URL when parameters change\r\n  useEffect(() => {\r\n    // Update URL with current parameters\r\n    const params = new URLSearchParams();\r\n    \r\n    // Add pagination\r\n    params.append('page', currentPage.toString());\r\n    \r\n    // Add sorting - use sortBy and order to match backend API\r\n    params.append('sortBy', sortConfig.key);\r\n    params.append('order', sortConfig.direction);\r\n    \r\n    // Add search term if present\r\n    if (searchTerm) {\r\n      params.append('search', searchTerm);\r\n    }\r\n    \r\n    // Add filters\r\n    Object.entries(filters).forEach(([key, value]) => {\r\n      if (value && value !== 'All') {\r\n        params.append(key, value);\r\n      }\r\n    });\r\n    \r\n    // Update URL without causing page refresh\r\n    navigate(`?${params.toString()}`, { replace: true });\r\n  }, [currentPage, itemsPerPage, sortConfig.key, sortConfig.direction, filters, searchTerm, navigate]);\r\n\r\n  // Separate effect to fetch servers when parameters change\r\n  useEffect(() => {\r\n    fetchServers();\r\n  }, [fetchServers]);\r\n\r\n  // Fetch all servers for filter options\r\n  const fetchAllServers = async () => {\r\n    try {\r\n      const response = await serverApi.getServers({ size: 1000 });\r\n      const mappedServers = response.data.servers.map((server: any) => ({\r\n        ...server,\r\n        ipAddress: server.ip || server.ipAddress\r\n      }));\r\n      setAllServers(mappedServers);\r\n    } catch (err) {\r\n      console.error('Error fetching all servers for filters:', err);\r\n    }\r\n  };\r\n\r\n  // Debug function to check API calls\r\n  const logApiCall = (action: string, params: any) => {\r\n    console.log(`${action} with params:`, params);\r\n  };\r\n\r\n  // Get filter options based on currently selected filters - improved for all dropdowns\r\n  const getFilterOptions = () => {\r\n    // Start with all servers\r\n    let filteredServers = [...allServers];\r\n    \r\n    // Apply current filters to get the filtered set of servers\r\n    const filters_map: {[key: string]: string} = {\r\n      operatingSystem: filters.operatingSystem,\r\n      location: filters.location, \r\n      applicationOwner: filters.applicationOwner,\r\n      status: filters.status\r\n    };\r\n\r\n    // Helper function to filter servers based on current selections except the target field\r\n    const getFilteredServersExcept = (exceptField: string) => {\r\n      return allServers.filter(server => {\r\n        return Object.entries(filters_map)\r\n          .filter(([field]) => field !== exceptField && filters_map[field] !== '')\r\n          .every(([field, value]) => {\r\n            // Ensure the server[field] exists and matches the filter value\r\n            return server[field as keyof Server] === value;\r\n          });\r\n      });\r\n    };\r\n\r\n    // Get unique values for each filter, filtered by other selections\r\n    const operatingSystems = [...new Set(\r\n      getFilteredServersExcept('operatingSystem')\r\n        .map(server => server.operatingSystem)\r\n        .filter(Boolean)\r\n    )].sort();\r\n    \r\n    const locations = [...new Set(\r\n      getFilteredServersExcept('location')\r\n        .map(server => server.location)\r\n        .filter(Boolean)\r\n    )].sort();\r\n    \r\n    const applicationOwners = [...new Set(\r\n      getFilteredServersExcept('applicationOwner')\r\n        .map(server => server.applicationOwner)\r\n        .filter(Boolean)\r\n    )].sort();\r\n\r\n    // For statuses, filter based on all other selections\r\n    const filteredForStatus = getFilteredServersExcept('status');\r\n    const availableStatuses = [...new Set(\r\n      filteredForStatus\r\n        .map(server => server.status)\r\n        .filter(Boolean)\r\n    )];\r\n\r\n    // Ensure all possible statuses are included even if not in filtered servers\r\n    const statuses = ['live', 'shutdown', 'new'].filter(status => \r\n      availableStatuses.length === 0 || availableStatuses.includes(status)\r\n    );\r\n    \r\n    return {\r\n      operatingSystems,\r\n      locations,\r\n      applicationOwners,\r\n      statuses\r\n    };\r\n  };\r\n\r\n  // Helper function to focus the search input\r\n  const focusSearchInput = () => {\r\n    setTimeout(() => {\r\n      if (searchInputRef.current) {\r\n        searchInputRef.current.focus();\r\n        const length = searchInputRef.current.value.length;\r\n        searchInputRef.current.setSelectionRange(length, length);\r\n      }\r\n    }, 0);\r\n  };\r\n\r\n  // Modify the page change handler to use the helper function\r\n  const handlePageChange = (pageNumber: number) => {\r\n    setCurrentPage(pageNumber);\r\n    focusSearchInput();\r\n  };\r\n\r\n  // Modify the filter change handler to use the helper function\r\n  const handleFilterChange = (field: string, value: string) => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [field]: value === 'All' ? undefined : value\r\n    }));\r\n    setCurrentPage(1); // Reset to first page when filters change\r\n    focusSearchInput();\r\n  };\r\n\r\n  // Modify the sort handler to use the helper function\r\n  const handleSort = (key: keyof Server) => {\r\n    setSortConfig({\r\n      key,\r\n      direction: sortConfig.key === key && sortConfig.direction === 'asc' ? 'desc' : 'asc'\r\n    });\r\n    focusSearchInput();\r\n  };\r\n\r\n  // Get sort icon\r\n  const getSortIcon = (columnName: keyof Server) => {\r\n    if (sortConfig.key !== columnName) {\r\n      return null;\r\n    }\r\n    return sortConfig.direction === 'asc' ? \r\n      <ChevronUpIcon className=\"h-4 w-4 ml-1\" /> : \r\n      <ChevronDownIcon className=\"h-4 w-4 ml-1\" />;\r\n  };\r\n\r\n  // Also focus search input after reset filters\r\n  const resetFilters = () => {\r\n    setFilters({\r\n      operatingSystem: '',\r\n      location: '',\r\n      applicationOwner: '',\r\n      status: ''\r\n    });\r\n    setSearchTerm('');\r\n    setSearchInputValue('');\r\n    setCurrentPage(1);\r\n    focusSearchInput();\r\n  };\r\n\r\n  // Handle search with debouncing\r\n  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    setSearchInputValue(value); // Update the input value immediately for UI feedback\r\n    \r\n    // Clear any existing timeout\r\n    if (searchTimeoutRef.current) {\r\n      clearTimeout(searchTimeoutRef.current);\r\n    }\r\n    \r\n    // Set a new timeout to delay the search execution\r\n    searchTimeoutRef.current = setTimeout(() => {\r\n      setSearchTerm(value);\r\n      setCurrentPage(1); // Reset to first page when search changes\r\n    }, 300); // 300ms delay for better responsiveness\r\n  };\r\n\r\n  // Add this to component to clean up timeout on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (searchTimeoutRef.current) {\r\n        clearTimeout(searchTimeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Pagination logic\r\n  const indexOfLastItem = currentPage * itemsPerPage;\r\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n\r\n  // Handle items per page change\r\n  const handleItemsPerPageChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const newSize = Number(event.target.value);\r\n    setItemsPerPage(newSize);\r\n    setQueryParams(prev => ({\r\n      ...prev,\r\n      size: newSize,\r\n      page: 1\r\n    }));\r\n  };\r\n\r\n  const handleDownloadTemplate = async () => {\r\n    try {\r\n      const response = await serverApi.getImportTemplate();\r\n      \r\n      // Create a download link and trigger it\r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', 'server_import_template.xlsx');\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      link.remove();\r\n    } catch (err) {\r\n      console.error('Error downloading template:', err);\r\n      setFileUploadError('Failed to download template. Please try again.');\r\n      setTimeout(() => setFileUploadError(null), 5000);\r\n    }\r\n  };\r\n\r\n  const handleExport = async () => {\r\n    try {\r\n      // Build export parameters based on current filters\r\n      const params: any = {};\r\n      if (searchTerm) params.search = searchTerm;\r\n      if (filters.operatingSystem) params.operatingSystem = filters.operatingSystem;\r\n      if (filters.location) params.location = filters.location;\r\n      if (filters.applicationOwner) params.applicationOwner = filters.applicationOwner;\r\n      if (filters.status) params.status = filters.status;\r\n      \r\n      const response = await serverApi.exportServers(params);\r\n      \r\n      // Create a download link and trigger it\r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', 'servers_export.xlsx');\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      link.remove();\r\n      \r\n      setFileUploadSuccess('Servers exported successfully!');\r\n      setTimeout(() => setFileUploadSuccess(null), 3000);\r\n    } catch (err) {\r\n      console.error('Error exporting servers:', err);\r\n      setFileUploadError('Failed to export servers. Please try again.');\r\n      setTimeout(() => setFileUploadError(null), 5000);\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (!event.target.files || event.target.files.length === 0) {\r\n      return;\r\n    }\r\n    \r\n    const file = event.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    \r\n    try {\r\n      setLoading(true);\r\n      \r\n      const response = await serverApi.importServers(formData);\r\n      \r\n      setFileUploadSuccess(`Import successful: ${response.data.success} servers added, ${response.data.failed} failed.`);\r\n      \r\n      // Refresh server list\r\n      fetchServers();\r\n      \r\n    } catch (err: any) {\r\n      console.error('Error uploading file:', err);\r\n      setFileUploadError(err.response?.data?.message || 'Failed to import servers. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n      // Reset file input\r\n      event.target.value = '';\r\n    }\r\n  };\r\n\r\n  // New function to handle form input changes\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    setNewServerData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  // New function to handle server creation\r\n  const handleAddServer = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      // Format data for backend\r\n      const serverData = {\r\n        ...newServerData,\r\n        ip: newServerData.ipAddress // Map ipAddress to ip for backend\r\n      };\r\n      \r\n      // Send to backend\r\n      await serverApi.createServer(serverData);\r\n      \r\n      // Refresh the server list\r\n      fetchServers();\r\n      \r\n      // Close modal and reset form\r\n      setShowAddModal(false);\r\n      setNewServerData({\r\n        hostname: '',\r\n        ipAddress: '',\r\n        operatingSystem: '',\r\n        serverRole: '',\r\n        serverType: '',\r\n        applicationName: '',\r\n        applicationSPOC: '',\r\n        applicationOwner: '',\r\n        platform: '',\r\n        location: '',\r\n        manufacturer: '',\r\n        ram: '',\r\n        cpu: '',\r\n        status: 'new'\r\n      });\r\n      \r\n      // Show success message\r\n      setFileUploadSuccess('Server added successfully');\r\n      setTimeout(() => setFileUploadSuccess(null), 3000);\r\n    } catch (err) {\r\n      console.error('Error adding server:', err);\r\n      setFileUploadError('Failed to add server. Please try again.');\r\n      setTimeout(() => setFileUploadError(null), 5000);\r\n    }\r\n  };\r\n\r\n  const handleClearAllServers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      await serverApi.clearAllServers();\r\n      setFileUploadSuccess('All servers have been cleared successfully');\r\n      setShowClearAllConfirmation(false);\r\n      fetchServers(); // Refresh the server list (should be empty now)\r\n    } catch (err) {\r\n      console.error('Error clearing servers:', err);\r\n      setFileUploadError('Failed to clear servers. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n      setTimeout(() => setFileUploadSuccess(null), 3000);\r\n    }\r\n  };\r\n\r\n  // Helper function to check if a field is valid for a Server\r\n  const isValidServerField = (field: string): field is keyof Server => {\r\n    return [\r\n      'id', 'hostname', 'ip', 'ipAddress', 'operatingSystem', 'serverRole', \r\n      'serverType', 'applicationName', 'applicationSPOC', 'applicationOwner',\r\n      'location', 'manufacturer', 'ram', 'cpu', 'status', 'createdAt', 'updatedAt',\r\n      'platform'\r\n    ].includes(field);\r\n  };\r\n\r\n  // Add a function to handle server edit\r\n  const handleEditServer = (server: Server) => {\r\n    setSelectedServer(server);\r\n    setShowEditModal(true);\r\n  };\r\n\r\n  // Add a function to handle server delete confirmation\r\n  const handleDeleteConfirmation = (server: Server) => {\r\n    setSelectedServer(server);\r\n    setShowDeleteConfirmation(true);\r\n  };\r\n\r\n  // Add a function to handle server deletion\r\n  const handleDeleteServer = async () => {\r\n    if (!selectedServer) return;\r\n    \r\n    try {\r\n      setLoading(true);\r\n      await serverApi.deleteServer(selectedServer.id);\r\n      \r\n      // Show success message\r\n      setFileUploadSuccess(`Server ${selectedServer.hostname} deleted successfully`);\r\n      \r\n      // Refresh the server list\r\n      fetchServers();\r\n      \r\n      // Close modal\r\n      setShowDeleteConfirmation(false);\r\n      setSelectedServer(null);\r\n    } catch (error) {\r\n      console.error('Error deleting server:', error);\r\n      setFileUploadError('Failed to delete server. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n      setTimeout(() => setFileUploadSuccess(null), 3000);\r\n    }\r\n  };\r\n\r\n  // Add a function to handle server update\r\n  const handleUpdateServer = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!selectedServer) return;\r\n    \r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Create a copy of server data\r\n      const serverData = { ...selectedServer };\r\n      \r\n      // Use ipAddress value for ip and remove ipAddress to avoid duplication\r\n      if (serverData.ipAddress) {\r\n        serverData.ip = serverData.ipAddress;\r\n        delete serverData.ipAddress;\r\n      }\r\n      \r\n      // Validate status field\r\n      if (serverData.status && !['live', 'shutdown', 'new'].includes(serverData.status.toLowerCase())) {\r\n        setFileUploadError('Invalid status value. Must be one of: live, shutdown, new');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // Send to backend\r\n      await serverApi.updateServer(selectedServer.id, serverData);\r\n      \r\n      // Refresh the server list\r\n      fetchServers();\r\n      \r\n      // Close modal and reset form\r\n      setShowEditModal(false);\r\n      setSelectedServer(null);\r\n      \r\n      // Show success message\r\n      setFileUploadSuccess('Server updated successfully');\r\n    } catch (error: any) {\r\n      console.error('Error updating server:', error);\r\n      \r\n      // Display more detailed error message if available\r\n      if (error.response && error.response.data && error.response.data.message) {\r\n        setFileUploadError(`Failed to update server: ${error.response.data.message}`);\r\n        if (error.response.data.error) {\r\n          console.error('Detailed error:', error.response.data.error);\r\n        }\r\n      } else {\r\n        setFileUploadError('Failed to update server. Please try again.');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n      setTimeout(() => setFileUploadSuccess(null), 3000);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex h-full min-h-[400px] items-center justify-center\">\r\n        <div className=\"h-12 w-12 animate-spin rounded-full border-4 border-primary-600 border-t-transparent\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-50 dark:bg-red-900/30 border border-red-400 text-red-700 dark:text-red-400 px-4 py-3 rounded mb-4\" role=\"alert\">\r\n        <span className=\"block sm:inline\">{error}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Generate filter options dynamically\r\n  const filterOptions = getFilterOptions();\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-8\">Server Inventory</h1>\r\n      \r\n      {/* Search and filter controls */}\r\n      <div className=\"mb-6 card p-4\">\r\n        <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n          {/* Search input */}\r\n          <div className=\"w-full md:w-1/3\">\r\n            <div className=\"relative\">\r\n              <input\r\n                ref={searchInputRef}\r\n                type=\"text\"\r\n                placeholder=\"Search servers...\"\r\n                className=\"form-input pl-10\"\r\n                value={searchInputValue}\r\n                onChange={handleSearchChange}\r\n                autoFocus\r\n              />\r\n              <MagnifyingGlassIcon className=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" />\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {/* Add Server button - Admin Only */}\r\n            {isAdmin() && (\r\n              <button \r\n                className=\"btn-success\"\r\n                onClick={() => setShowAddModal(true)}\r\n              >\r\n                <PlusIcon className=\"h-4 w-4 mr-2\" />\r\n                Add Server\r\n              </button>\r\n            )}\r\n            \r\n            {/* Import/Export buttons - Admin Only */}\r\n            {isAdmin() && (\r\n              <div className=\"flex space-x-2\">\r\n                <label className=\"btn-primary cursor-pointer\">\r\n                  <ArrowUpTrayIcon className=\"h-4 w-4 mr-2\" />\r\n                  Import\r\n                  <input type=\"file\" className=\"hidden\" onChange={handleFileUpload} accept=\".xlsx,.xls,.csv\" />\r\n                </label>\r\n                \r\n                <button \r\n                  className=\"btn-primary\"\r\n                  onClick={handleExport}\r\n                >\r\n                  <ArrowDownTrayIcon className=\"h-4 w-4 mr-2\" />\r\n                  Export\r\n                </button>\r\n                \r\n                <button \r\n                  className=\"btn-secondary\"\r\n                  onClick={handleDownloadTemplate}\r\n                >\r\n                  <DocumentArrowDownIcon className=\"h-4 w-4 mr-2\" />\r\n                  Template\r\n                </button>\r\n\r\n                {/* Clear All Servers button - Admin Only */}\r\n                <button \r\n                  className=\"btn-danger\"\r\n                  onClick={() => setShowClearAllConfirmation(true)}\r\n                >\r\n                  <TrashIcon className=\"h-4 w-4 mr-2\" />\r\n                  Clear All\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Filter dropdowns */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Operating System</label>\r\n            <select \r\n              className=\"form-input\"\r\n              value={filters.operatingSystem}\r\n              onChange={(e) => handleFilterChange('operatingSystem', e.target.value)}\r\n            >\r\n              <option value=\"\">All Operating Systems</option>\r\n              {filterOptions.operatingSystems.map((os) => (\r\n                <option key={os} value={os}>{os}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Location</label>\r\n            <select \r\n              className=\"form-input\"\r\n              value={filters.location}\r\n              onChange={(e) => handleFilterChange('location', e.target.value)}\r\n            >\r\n              <option value=\"\">All Locations</option>\r\n              {filterOptions.locations.map((location) => (\r\n                <option key={location} value={location}>{location}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Application Owner</label>\r\n            <select \r\n              className=\"form-input\"\r\n              value={filters.applicationOwner}\r\n              onChange={(e) => handleFilterChange('applicationOwner', e.target.value)}\r\n            >\r\n              <option value=\"\">All Application Owners</option>\r\n              {filterOptions.applicationOwners.map((owner) => (\r\n                <option key={owner} value={owner}>{owner}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Status</label>\r\n            <select \r\n              className=\"form-input\"\r\n              value={filters.status}\r\n              onChange={(e) => handleFilterChange('status', e.target.value)}\r\n            >\r\n              <option value=\"\">All Statuses</option>\r\n              {filterOptions.statuses.map((status) => (\r\n                <option key={status} value={status}>{status}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Reset filters button */}\r\n        <div className=\"mt-4 flex justify-end\">\r\n          <button \r\n            className=\"btn-ghost\"\r\n            onClick={resetFilters}\r\n          >\r\n            Reset Filters\r\n          </button>\r\n        </div>\r\n\r\n        {/* Upload status messages */}\r\n        {fileUploadError && (\r\n          <div className=\"mt-4 p-3 bg-danger-100 dark:bg-danger-900/30 border border-danger-200 text-danger-700 dark:text-danger-300 rounded\">\r\n            {fileUploadError}\r\n          </div>\r\n        )}\r\n        \r\n        {fileUploadSuccess && (\r\n          <div className=\"mt-4 p-3 bg-success-100 dark:bg-success-900/30 border border-success-200 text-success-700 dark:text-success-300 rounded\">\r\n            {fileUploadSuccess}\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Server table */}\r\n      <div className=\"table-container\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\r\n            <thead className=\"bg-gray-50 dark:bg-gray-700\">\r\n              <tr>\r\n                <th \r\n                  scope=\"col\" \r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\"\r\n                  onClick={() => handleSort('hostname')}\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    Hostname\r\n                    {getSortIcon('hostname')}\r\n                  </div>\r\n                </th>\r\n                <th \r\n                  scope=\"col\" \r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\"\r\n                  onClick={() => handleSort('ip')}\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    IP Address\r\n                    {getSortIcon('ip')}\r\n                  </div>\r\n                </th>\r\n                <th \r\n                  scope=\"col\" \r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\"\r\n                  onClick={() => handleSort('operatingSystem')}\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    OS\r\n                    {getSortIcon('operatingSystem')}\r\n                  </div>\r\n                </th>\r\n                <th \r\n                  scope=\"col\" \r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\"\r\n                  onClick={() => handleSort('serverRole')}\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    Role\r\n                    {getSortIcon('serverRole')}\r\n                  </div>\r\n                </th>\r\n                <th \r\n                  scope=\"col\" \r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\"\r\n                  onClick={() => handleSort('serverType')}\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    Type\r\n                    {getSortIcon('serverType')}\r\n                  </div>\r\n                </th>\r\n                <th \r\n                  scope=\"col\" \r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\"\r\n                  onClick={() => handleSort('applicationName')}\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    Application\r\n                    {getSortIcon('applicationName')}\r\n                  </div>\r\n                </th>\r\n                <th \r\n                  scope=\"col\" \r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\"\r\n                  onClick={() => handleSort('applicationSPOC')}\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    App SPOC\r\n                    {getSortIcon('applicationSPOC')}\r\n                  </div>\r\n                </th>\r\n                <th \r\n                  scope=\"col\" \r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\"\r\n                  onClick={() => handleSort('applicationOwner')}\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    App Owner\r\n                    {getSortIcon('applicationOwner')}\r\n                  </div>\r\n                </th>\r\n                <th \r\n                  scope=\"col\" \r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\"\r\n                  onClick={() => handleSort('location')}\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    Location\r\n                    {getSortIcon('location')}\r\n                  </div>\r\n                </th>\r\n                <th \r\n                  scope=\"col\" \r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\"\r\n                  onClick={() => handleSort('manufacturer')}\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    Manufacturer\r\n                    {getSortIcon('manufacturer')}\r\n                  </div>\r\n                </th>\r\n                <th \r\n                  scope=\"col\" \r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\"\r\n                  onClick={() => handleSort('ram')}\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    RAM\r\n                    {getSortIcon('ram')}\r\n                  </div>\r\n                </th>\r\n                <th \r\n                  scope=\"col\" \r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\"\r\n                  onClick={() => handleSort('cpu')}\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    CPU\r\n                    {getSortIcon('cpu')}\r\n                  </div>\r\n                </th>\r\n                <th \r\n                  scope=\"col\" \r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer\"\r\n                  onClick={() => handleSort('status')}\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    Status\r\n                    {getSortIcon('status')}\r\n                  </div>\r\n                </th>\r\n                {isAdmin() && (\r\n                  <th \r\n                    scope=\"col\" \r\n                    className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\"\r\n                  >\r\n                    <div className=\"flex items-center\">\r\n                      Actions\r\n                    </div>\r\n                  </th>\r\n                )}\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\r\n              {filteredServers.length > 0 ? (\r\n                filteredServers.map((server) => (\r\n                  <tr key={server.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors duration-150\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\">{server.hostname}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{server.ipAddress || server.ip}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{server.operatingSystem}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{server.serverRole}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{server.serverType}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{server.applicationName}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{server.applicationSPOC}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{server.applicationOwner}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{server.location}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{server.manufacturer}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{server.ram}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{server.cpu}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\r\n                      <span className={`status-badge ${\r\n                        server.status === 'live' ? 'status-badge-success' : \r\n                        server.status === 'shutdown' ? 'status-badge-danger' : \r\n                        'status-badge-info'}`}\r\n                      >\r\n                        {server.status}\r\n                      </span>\r\n                    </td>\r\n                    {isAdmin() && (\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">\r\n                        <div className=\"flex space-x-2\">\r\n                          <button\r\n                            onClick={() => handleEditServer(server)}\r\n                            className=\"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors duration-200\"\r\n                          >\r\n                            Edit\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleDeleteConfirmation(server)}\r\n                            className=\"text-danger-600 hover:text-danger-900 dark:text-danger-400 dark:hover:text-danger-300 transition-colors duration-200\"\r\n                          >\r\n                            Delete\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    )}\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td colSpan={isAdmin() ? 14 : 13} className=\"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-300\">\r\n                    No servers found\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        \r\n        {/* Pagination controls - Updated to match AuditLogs */}\r\n        <div className=\"px-6 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700\">\r\n          <div className=\"flex-1 flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-700 dark:text-gray-300\">\r\n                Showing <span className=\"font-medium\">{Math.min(indexOfFirstItem + 1, totalItems)}</span> to{' '}\r\n                <span className=\"font-medium\">\r\n                  {Math.min(indexOfLastItem, totalItems)}\r\n                </span>{' '}\r\n                of <span className=\"font-medium\">{totalItems}</span> results\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <select\r\n                className=\"border border-gray-300 dark:border-gray-600 rounded-md p-2 dark:bg-gray-800 dark:text-white\"\r\n                value={itemsPerPage}\r\n                onChange={handleItemsPerPageChange}\r\n              >\r\n                <option value={5}>5 per page</option>\r\n                <option value={10}>10 per page</option>\r\n                <option value={25}>25 per page</option>\r\n                <option value={50}>50 per page</option>\r\n              </select>\r\n              <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\" aria-label=\"Pagination\">\r\n                <button\r\n                  onClick={() => handlePageChange(Math.max(1, currentPage - 1))}\r\n                  className=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\r\n                  disabled={currentPage === 1}\r\n                >\r\n                  <span className=\"sr-only\">Previous</span>\r\n                  &larr;\r\n                </button>\r\n                {Array.from({ length: Math.min(5, totalPages) }).map((_, idx) => {\r\n                  const pageToShow = currentPage <= 3 \r\n                    ? idx + 1 \r\n                    : currentPage >= totalPages - 2 \r\n                      ? totalPages - 4 + idx \r\n                      : currentPage - 2 + idx;\r\n                  \r\n                  if (pageToShow > 0 && pageToShow <= totalPages) {\r\n                    return (\r\n                      <button\r\n                        key={pageToShow}\r\n                        onClick={() => handlePageChange(pageToShow)}\r\n                        className={`relative inline-flex items-center px-4 py-2 border ${\r\n                          currentPage === pageToShow\r\n                            ? 'bg-primary-600 text-white z-10 border-primary-600'\r\n                            : 'bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n                        }`}\r\n                      >\r\n                        {pageToShow}\r\n                      </button>\r\n                    );\r\n                  }\r\n                  return null;\r\n                })}\r\n                <button\r\n                  onClick={() => handlePageChange(Math.min(totalPages, currentPage + 1))}\r\n                  className=\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\r\n                  disabled={currentPage === totalPages}\r\n                >\r\n                  <span className=\"sr-only\">Next</span>\r\n                  &rarr;\r\n                </button>\r\n              </nav>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add/Edit Server Modal */}\r\n      {showAddModal && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n            <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\r\n              <div className=\"absolute inset-0 bg-gray-500 bg-opacity-75 dark:bg-opacity-90\"></div>\r\n            </div>\r\n            <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\r\n            <div className=\"card inline-block align-bottom rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full\">\r\n              <div className=\"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6\">\r\n                <div className=\"flex justify-between items-start\">\r\n                  <h3 className=\"text-lg font-medium leading-6 text-gray-900 dark:text-white\">\r\n                    {selectedServer ? 'Edit Server' : 'Add New Server'}\r\n                  </h3>\r\n                  <button\r\n                    className=\"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 transition-colors duration-150\"\r\n                    onClick={() => {\r\n                      setShowAddModal(false);\r\n                      setSelectedServer(null);\r\n                      resetForm();\r\n                    }}\r\n                  >\r\n                    <span className=\"sr-only\">Close</span>\r\n                    <XMarkIcon className=\"h-6 w-6\" />\r\n                  </button>\r\n                </div>\r\n                \r\n                <form className=\"mt-6\" onSubmit={handleAddServer}>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                    {/* Hostname */}\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                        Hostname <span className=\"text-danger-500\">*</span>\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"hostname\"\r\n                        className=\"form-input\"\r\n                        value={newServerData.hostname}\r\n                        onChange={handleInputChange}\r\n                        required\r\n                      />\r\n                    </div>\r\n\r\n                    {/* IP Address */}\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                        IP Address <span className=\"text-danger-500\">*</span>\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"ipAddress\"\r\n                        className=\"form-input\"\r\n                        value={newServerData.ipAddress}\r\n                        onChange={handleInputChange}\r\n                        required\r\n                      />\r\n                    </div>\r\n\r\n                    {/* Operating System */}\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                        Operating System <span className=\"text-danger-500\">*</span>\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"operatingSystem\"\r\n                        className=\"form-input\"\r\n                        value={newServerData.operatingSystem}\r\n                        onChange={handleInputChange}\r\n                        required\r\n                      />\r\n                    </div>\r\n\r\n                    {/* Location */}\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                        Location <span className=\"text-danger-500\">*</span>\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"location\"\r\n                        className=\"form-input\"\r\n                        value={newServerData.location}\r\n                        onChange={handleInputChange}\r\n                        required\r\n                      />\r\n                    </div>\r\n\r\n                    {/* RAM */}\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                        RAM\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"ram\"\r\n                        className=\"form-input\"\r\n                        value={newServerData.ram}\r\n                        onChange={handleInputChange}\r\n                      />\r\n                    </div>\r\n\r\n                    {/* CPU */}\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                        CPU\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"cpu\"\r\n                        className=\"form-input\"\r\n                        value={newServerData.cpu}\r\n                        onChange={handleInputChange}\r\n                      />\r\n                    </div>\r\n\r\n                    {/* Status */}\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                        Status <span className=\"text-danger-500\">*</span>\r\n                      </label>\r\n                      <select\r\n                        name=\"status\"\r\n                        className=\"form-input\"\r\n                        value={newServerData.status}\r\n                        onChange={handleInputChange}\r\n                        required\r\n                      >\r\n                        <option value=\"\">Select Status</option>\r\n                        <option value=\"live\">Live</option>\r\n                        <option value=\"shutdown\">Shutdown</option>\r\n                        <option value=\"maintenance\">Maintenance</option>\r\n                      </select>\r\n                    </div>\r\n\r\n                    {/* Application Owner */}\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                        Application Owner\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"applicationOwner\"\r\n                        className=\"form-input\"\r\n                        value={newServerData.applicationOwner}\r\n                        onChange={handleInputChange}\r\n                      />\r\n                    </div>\r\n\r\n                    {/* Technical Owner */}\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                        Technical Owner\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"technicalOwner\"\r\n                        className=\"form-input\"\r\n                        value={newServerData.technicalOwner}\r\n                        onChange={handleInputChange}\r\n                      />\r\n                    </div>\r\n\r\n                    {/* File System */}\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                        File System\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"fileSystem\"\r\n                        className=\"form-input\"\r\n                        value={newServerData.fileSystem}\r\n                        onChange={handleInputChange}\r\n                      />\r\n                    </div>\r\n\r\n                    {/* Environment */}\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                        Environment\r\n                      </label>\r\n                      <select\r\n                        name=\"environment\"\r\n                        className=\"form-input\"\r\n                        value={newServerData.environment}\r\n                        onChange={handleInputChange}\r\n                      >\r\n                        <option value=\"\">Select Environment</option>\r\n                        <option value=\"production\">Production</option>\r\n                        <option value=\"development\">Development</option>\r\n                        <option value=\"testing\">Testing</option>\r\n                        <option value=\"staging\">Staging</option>\r\n                      </select>\r\n                    </div>\r\n\r\n                    {/* Notes */}\r\n                    <div className=\"md:col-span-3\">\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                        Notes\r\n                      </label>\r\n                      <textarea\r\n                        name=\"notes\"\r\n                        rows={3}\r\n                        className=\"form-input\"\r\n                        value={newServerData.notes}\r\n                        onChange={handleInputChange}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {fileUploadError && (\r\n                    <div className=\"mt-4 p-3 bg-danger-100 dark:bg-danger-900/30 border border-danger-200 text-danger-700 dark:text-danger-300 rounded\">\r\n                      {fileUploadError}\r\n                    </div>\r\n                  )}\r\n\r\n                  <div className=\"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3\">\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"btn-primary sm:col-start-2\"\r\n                      disabled={loading}\r\n                    >\r\n                      {loading ? (\r\n                        <div className=\"h-4 w-4 mr-2 animate-spin rounded-full border-2 border-white border-t-transparent\"></div>\r\n                      ) : null}\r\n                      {selectedServer ? 'Update Server' : 'Add Server'}\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn-ghost mt-3 sm:mt-0\"\r\n                      onClick={() => {\r\n                        setShowAddModal(false);\r\n                        setSelectedServer(null);\r\n                        resetForm();\r\n                      }}\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Clear All Servers Confirmation Modal */}\r\n      {showClearAllConfirmation && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n            <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\r\n              <div className=\"absolute inset-0 bg-gray-500 bg-opacity-75 dark:bg-opacity-90\"></div>\r\n            </div>\r\n            <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\r\n            <div className=\"card inline-block align-bottom rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\r\n              <div className=\"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n                <div className=\"sm:flex sm:items-start\">\r\n                  <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-danger-100 dark:bg-danger-900/30 sm:mx-0 sm:h-10 sm:w-10\">\r\n                    <TrashIcon className=\"h-6 w-6 text-danger-600 dark:text-danger-400\" />\r\n                  </div>\r\n                  <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\r\n                    <h3 className=\"text-lg font-medium leading-6 text-gray-900 dark:text-white\">\r\n                      Clear All Servers\r\n                    </h3>\r\n                    <div className=\"mt-2\">\r\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                        Are you sure you want to clear all servers? This action cannot be undone.\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn-danger ml-3\"\r\n                  onClick={handleClearAllServers}\r\n                >\r\n                  Clear All\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn-ghost\"\r\n                  onClick={() => setShowClearAllConfirmation(false)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Modal */}\r\n      {showEditModal && selectedServer && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-xl transform transition-all sm:max-w-lg sm:w-full\">\r\n            <div className=\"px-4 pt-5 pb-4 sm:p-6\">\r\n              <div className=\"sm:flex sm:items-start\">\r\n                <div className=\"mt-3 text-center sm:mt-0 sm:text-left w-full\">\r\n                  <h3 className=\"text-lg leading-6 font-medium text-gray-900 dark:text-white\">\r\n                    Edit Server\r\n                  </h3>\r\n                  <div className=\"mt-4\">\r\n                    <form onSubmit={handleUpdateServer} className=\"space-y-4\">\r\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                            Hostname\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"hostname\"\r\n                            value={selectedServer.hostname}\r\n                            onChange={(e) => setSelectedServer({...selectedServer, hostname: e.target.value})}\r\n                            className=\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\r\n                            required\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                            IP Address\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"ipAddress\"\r\n                            value={selectedServer.ipAddress || selectedServer.ip || ''}\r\n                            onChange={(e) => setSelectedServer({...selectedServer, ipAddress: e.target.value})}\r\n                            className=\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\r\n                            required\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                            Operating System\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"operatingSystem\"\r\n                            value={selectedServer.operatingSystem}\r\n                            onChange={(e) => setSelectedServer({...selectedServer, operatingSystem: e.target.value})}\r\n                            className=\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\r\n                            required\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                            Status\r\n                          </label>\r\n                          <select\r\n                            name=\"status\"\r\n                            value={selectedServer.status && selectedServer.status.toLowerCase()}\r\n                            onChange={(e) => setSelectedServer({...selectedServer, status: e.target.value.toLowerCase()})}\r\n                            className=\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\r\n                            required\r\n                          >\r\n                            <option value=\"live\">Live</option>\r\n                            <option value=\"shutdown\">Shutdown</option>\r\n                            <option value=\"new\">New</option>\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                            Server Role\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"serverRole\"\r\n                            value={selectedServer.serverRole || ''}\r\n                            onChange={(e) => setSelectedServer({...selectedServer, serverRole: e.target.value})}\r\n                            className=\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                            Server Type\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"serverType\"\r\n                            value={selectedServer.serverType || ''}\r\n                            onChange={(e) => setSelectedServer({...selectedServer, serverType: e.target.value})}\r\n                            className=\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                            Application Name\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"applicationName\"\r\n                            value={selectedServer.applicationName || ''}\r\n                            onChange={(e) => setSelectedServer({...selectedServer, applicationName: e.target.value})}\r\n                            className=\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                            Application Owner\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"applicationOwner\"\r\n                            value={selectedServer.applicationOwner || ''}\r\n                            onChange={(e) => setSelectedServer({...selectedServer, applicationOwner: e.target.value})}\r\n                            className=\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                            Location\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"location\"\r\n                            value={selectedServer.location || ''}\r\n                            onChange={(e) => setSelectedServer({...selectedServer, location: e.target.value})}\r\n                            className=\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                            Manufacturer\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"manufacturer\"\r\n                            value={selectedServer.manufacturer || ''}\r\n                            onChange={(e) => setSelectedServer({...selectedServer, manufacturer: e.target.value})}\r\n                            className=\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                            RAM\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"ram\"\r\n                            value={selectedServer.ram || ''}\r\n                            onChange={(e) => setSelectedServer({...selectedServer, ram: e.target.value})}\r\n                            className=\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                            CPU\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"cpu\"\r\n                            value={selectedServer.cpu || ''}\r\n                            onChange={(e) => setSelectedServer({...selectedServer, cpu: e.target.value})}\r\n                            className=\"mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse\">\r\n                        <button\r\n                          type=\"submit\"\r\n                          className=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm\"\r\n                        >\r\n                          Save Changes\r\n                        </button>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => setShowEditModal(false)}\r\n                          className=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-700 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none sm:mt-0 sm:w-auto sm:text-sm\"\r\n                        >\r\n                          Cancel\r\n                        </button>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Delete Server Confirmation Modal */}\r\n      {showDeleteConfirmation && selectedServer && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n            <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\r\n              <div className=\"absolute inset-0 bg-gray-500 bg-opacity-75 dark:bg-opacity-90\"></div>\r\n            </div>\r\n            <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\r\n            <div className=\"card inline-block align-bottom rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\r\n              <div className=\"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n                <div className=\"sm:flex sm:items-start\">\r\n                  <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-danger-100 dark:bg-danger-900/30 sm:mx-0 sm:h-10 sm:w-10\">\r\n                    <TrashIcon className=\"h-6 w-6 text-danger-600 dark:text-danger-400\" />\r\n                  </div>\r\n                  <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\r\n                    <h3 className=\"text-lg font-medium leading-6 text-gray-900 dark:text-white\">\r\n                      Delete Server\r\n                    </h3>\r\n                    <div className=\"mt-2\">\r\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                        Are you sure you want to delete <span className=\"font-semibold\">{selectedServer.hostname}</span>? This action cannot be undone.\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn-danger ml-3\"\r\n                  onClick={handleDeleteServer}\r\n                >\r\n                  Delete\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn-ghost\"\r\n                  onClick={() => setShowDeleteConfirmation(false)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ServerInventory; "],"mappings":"2IAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,CAAEC,WAAW,KAAQ,OAAO,CACvE,OACEC,mBAAmB,CACnBC,iBAAiB,CACjBC,eAAe,CACfC,eAAe,CACfC,aAAa,CACbC,qBAAqB,CACrBC,QAAQ,CACRC,SAAS,CACTC,SAAS,KAEJ,6BAA6B,CACpC,OAASC,SAAS,KAAQ,oBAAoB,CAC9C,OAASC,OAAO,KAAQ,4BAA4B,CACpD,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAmC/C,KAAM,CAAAC,eAAyB,CAAGA,CAAA,GAAM,CACtC,KAAM,CAAEC,OAAQ,CAAC,CAAGP,OAAO,CAAC,CAAC,CAC7B,KAAM,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGvB,QAAQ,CAAW,EAAE,CAAC,CACpD,KAAM,CAACwB,eAAe,CAAEC,kBAAkB,CAAC,CAAGzB,QAAQ,CAAW,EAAE,CAAC,CACpE,KAAM,CAAC0B,OAAO,CAAEC,UAAU,CAAC,CAAG3B,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC4B,KAAK,CAAEC,QAAQ,CAAC,CAAG7B,QAAQ,CAAgB,IAAI,CAAC,CACvD,KAAM,CAAC8B,UAAU,CAAEC,aAAa,CAAC,CAAG/B,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACgC,UAAU,CAAEC,aAAa,CAAC,CAAGjC,QAAQ,CAAa,CAAEkC,GAAG,CAAE,UAAU,CAAEC,SAAS,CAAE,KAAM,CAAC,CAAC,CAC/F,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGrC,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACsC,YAAY,CAAEC,eAAe,CAAC,CAAGvC,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACwC,UAAU,CAAEC,aAAa,CAAC,CAAGzC,QAAQ,CAAC,CAAC,CAAC,CAC/C,KAAM,CAAC0C,UAAU,CAAEC,aAAa,CAAC,CAAG3C,QAAQ,CAAC,CAAC,CAAC,CAC/C,KAAM,CAAC4C,eAAe,CAAEC,kBAAkB,CAAC,CAAG7C,QAAQ,CAAgB,IAAI,CAAC,CAC3E,KAAM,CAAC8C,iBAAiB,CAAEC,oBAAoB,CAAC,CAAG/C,QAAQ,CAAgB,IAAI,CAAC,CAC/E,KAAM,CAACgD,OAAO,CAAEC,UAAU,CAAC,CAAGjD,QAAQ,CAAC,CACrCkD,eAAe,CAAE,EAAE,CACnBC,QAAQ,CAAE,EAAE,CACZC,gBAAgB,CAAE,EAAE,CACpBC,MAAM,CAAE,EACV,CAAC,CAAC,CAEF,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGvD,QAAQ,CAAW,EAAE,CAAC,CAC1D,KAAM,CAACwD,WAAW,CAAEC,cAAc,CAAC,CAAGzD,QAAQ,CAAC,CAC7C0D,IAAI,CAAE,CAAC,CACPC,IAAI,CAAE,EAAE,CACRC,MAAM,CAAE,EAAE,CACVV,eAAe,CAAE,EAAE,CACnBC,QAAQ,CAAE,EAAE,CACZC,gBAAgB,CAAE,EAAE,CACpBC,MAAM,CAAE,EAAE,CACVQ,IAAI,CAAE,UAAU,CAChBC,KAAK,CAAE,KACT,CAAC,CAAC,CAEF,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGhE,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACiE,aAAa,CAAEC,gBAAgB,CAAC,CAAGlE,QAAQ,CAAkB,CAElEmE,QAAQ,CAAE,EAAE,CACZC,SAAS,CAAE,EAAE,CACblB,eAAe,CAAE,EAAE,CACnBmB,UAAU,CAAE,EAAE,CACdC,UAAU,CAAE,EAAE,CACdC,eAAe,CAAE,EAAE,CACnBC,eAAe,CAAE,EAAE,CACnBpB,gBAAgB,CAAE,EAAE,CACpBqB,QAAQ,CAAE,EAAE,CACZtB,QAAQ,CAAE,EAAE,CACZuB,YAAY,CAAE,EAAE,CAChBC,GAAG,CAAE,EAAE,CACPC,GAAG,CAAE,EAAE,CACPvB,MAAM,CAAE,KACV,CAAC,CAAC,CAEF,KAAM,CAACwB,wBAAwB,CAAEC,2BAA2B,CAAC,CAAG9E,QAAQ,CAAC,KAAK,CAAC,CAE/E;AACA,KAAM,CAAA+E,gBAAgB,CAAG7E,MAAM,CAAwB,IAAI,CAAC,CAE5D;AACA,KAAM,CAAC8E,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGjF,QAAQ,CAAC,EAAE,CAAC,CAE5D;AACA,KAAM,CAAAkF,cAAc,CAAGhF,MAAM,CAAmB,IAAI,CAAC,CAErD,KAAM,CAAAiF,QAAQ,CAAGpE,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAACqE,aAAa,CAAEC,gBAAgB,CAAC,CAAGrF,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAACsF,cAAc,CAAEC,iBAAiB,CAAC,CAAGvF,QAAQ,CAAgB,IAAI,CAAC,CACzE,KAAM,CAACwF,sBAAsB,CAAEC,yBAAyB,CAAC,CAAGzF,QAAQ,CAAC,KAAK,CAAC,CAE3EC,SAAS,CAAC,IAAM,CACd;AACAyF,eAAe,CAAC,CAAC,CAEjB;AACAC,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA1F,SAAS,CAAC,IAAM,CACd,KAAM,CAAA2F,MAAM,CAAG,GAAI,CAAAC,eAAe,CAACC,MAAM,CAAC3C,QAAQ,CAACS,MAAM,CAAC,CAE1D;AACA,KAAM,CAAAmC,WAAW,CAAGH,MAAM,CAACI,GAAG,CAAC,QAAQ,CAAC,CACxC,GAAID,WAAW,CAAE,CACfhE,aAAa,CAACgE,WAAW,CAAC,CAC1Bd,mBAAmB,CAACc,WAAW,CAAC,CAClC,CAEA;AACA,KAAM,CAAAE,WAAW,CAAGL,MAAM,CAACI,GAAG,CAAC,QAAQ,CAAC,CACxC,KAAM,CAAAE,UAAU,CAAGN,MAAM,CAACI,GAAG,CAAC,OAAO,CAA0B,CAE/D,GAAIC,WAAW,EAAIE,kBAAkB,CAACF,WAAW,CAAC,CAAE,CAClDhE,aAAa,CAAC,CACZC,GAAG,CAAE+D,WAA2B,CAChC9D,SAAS,CAAE+D,UAAU,GAAK,KAAK,EAAIA,UAAU,GAAK,MAAM,CAAGA,UAAU,CAAG,KAC1E,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAAE,SAAS,CAAGR,MAAM,CAACI,GAAG,CAAC,MAAM,CAAC,CACpC,GAAII,SAAS,CAAE,CACb,KAAM,CAAA1C,IAAI,CAAG2C,QAAQ,CAACD,SAAS,CAAE,EAAE,CAAC,CACpC,GAAI,CAACE,KAAK,CAAC5C,IAAI,CAAC,EAAIA,IAAI,CAAG,CAAC,CAAE,CAC5BrB,cAAc,CAACqB,IAAI,CAAC,CACtB,CACF,CAEA;AACA,GAAIwB,cAAc,CAACqB,OAAO,CAAE,CAC1BrB,cAAc,CAACqB,OAAO,CAACC,KAAK,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAC,MAAM,CAAGvB,cAAc,CAACqB,OAAO,CAACG,KAAK,CAACD,MAAM,CAClDvB,cAAc,CAACqB,OAAO,CAACI,iBAAiB,CAACF,MAAM,CAAEA,MAAM,CAAC,CAC1D,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAd,YAAY,CAAGxF,WAAW,CAAC,SAAY,CAC3CwB,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAiE,MAAM,CAAG,GAAI,CAAAC,eAAe,CAAC,CAAC,CAEpC;AACAD,MAAM,CAACgB,MAAM,CAAC,MAAM,CAAExE,WAAW,CAACyE,QAAQ,CAAC,CAAC,CAAC,CAC7CjB,MAAM,CAACgB,MAAM,CAAC,OAAO,CAAEtE,YAAY,CAACuE,QAAQ,CAAC,CAAC,CAAC,CAE/C;AACAjB,MAAM,CAACgB,MAAM,CAAC,QAAQ,CAAE5E,UAAU,CAACE,GAAG,CAAC,CACvC0D,MAAM,CAACgB,MAAM,CAAC,OAAO,CAAE5E,UAAU,CAACG,SAAS,CAAC,CAAE;AAE9C;AACA,GAAIL,UAAU,CAAE,CACd8D,MAAM,CAACgB,MAAM,CAAC,QAAQ,CAAE9E,UAAU,CAAC,CACrC,CAEA;AACAgF,MAAM,CAACC,OAAO,CAAC/D,OAAO,CAAC,CAACgE,OAAO,CAACC,IAAA,EAAkB,IAAjB,CAAC/E,GAAG,CAAEwE,KAAK,CAAC,CAAAO,IAAA,CAC3C,GAAIP,KAAK,EAAIA,KAAK,GAAK,KAAK,CAAE,CAC5Bd,MAAM,CAACgB,MAAM,CAAC1E,GAAG,CAAEwE,KAAK,CAAC,CAC3B,CACF,CAAC,CAAC,CAEF;AACAQ,OAAO,CAACC,GAAG,kCAAAC,MAAA,CAAkCxB,MAAM,CAACiB,QAAQ,CAAC,CAAC,CAAE,CAAC,CAEjE;AACA,KAAM,CAAAQ,QAAQ,CAAG,KAAM,CAAAxG,SAAS,CAACyG,UAAU,CAAC1B,MAAM,CAAC,CAEnD;AACAsB,OAAO,CAACC,GAAG,aAAAC,MAAA,CAAaC,QAAQ,CAACE,IAAI,CAACjG,OAAO,CAACmF,MAAM,yBAAAW,MAAA,CAAuBC,QAAQ,CAACE,IAAI,CAAC1D,IAAI,SAAAuD,MAAA,CAAOC,QAAQ,CAACE,IAAI,CAACzD,KAAK,UAAQ,CAAC,CAEhI;AACAvC,UAAU,CAAC8F,QAAQ,CAACE,IAAI,CAACjG,OAAO,CAAC,CACjCG,kBAAkB,CAAC4F,QAAQ,CAACE,IAAI,CAACjG,OAAO,CAAC,CAAE;AAC3CqB,aAAa,CAAC0E,QAAQ,CAACE,IAAI,CAAC7E,UAAU,CAAC,CACvCD,aAAa,CAAC4E,QAAQ,CAACE,IAAI,CAACC,UAAU,CAAC,CAEvC3F,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAE,MAAOD,KAAK,CAAE,CACdsF,OAAO,CAACtF,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CC,QAAQ,CAAC,qDAAqD,CAAC,CACjE,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACS,WAAW,CAAEE,YAAY,CAAEN,UAAU,CAACE,GAAG,CAAEF,UAAU,CAACG,SAAS,CAAEL,UAAU,CAAEkB,OAAO,CAAC,CAAC,CAE1F;AACA/C,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAA2F,MAAM,CAAG,GAAI,CAAAC,eAAe,CAAC,CAAC,CAEpC;AACAD,MAAM,CAACgB,MAAM,CAAC,MAAM,CAAExE,WAAW,CAACyE,QAAQ,CAAC,CAAC,CAAC,CAE7C;AACAjB,MAAM,CAACgB,MAAM,CAAC,QAAQ,CAAE5E,UAAU,CAACE,GAAG,CAAC,CACvC0D,MAAM,CAACgB,MAAM,CAAC,OAAO,CAAE5E,UAAU,CAACG,SAAS,CAAC,CAE5C;AACA,GAAIL,UAAU,CAAE,CACd8D,MAAM,CAACgB,MAAM,CAAC,QAAQ,CAAE9E,UAAU,CAAC,CACrC,CAEA;AACAgF,MAAM,CAACC,OAAO,CAAC/D,OAAO,CAAC,CAACgE,OAAO,CAACS,KAAA,EAAkB,IAAjB,CAACvF,GAAG,CAAEwE,KAAK,CAAC,CAAAe,KAAA,CAC3C,GAAIf,KAAK,EAAIA,KAAK,GAAK,KAAK,CAAE,CAC5Bd,MAAM,CAACgB,MAAM,CAAC1E,GAAG,CAAEwE,KAAK,CAAC,CAC3B,CACF,CAAC,CAAC,CAEF;AACAvB,QAAQ,KAAAiC,MAAA,CAAKxB,MAAM,CAACiB,QAAQ,CAAC,CAAC,EAAI,CAAEa,OAAO,CAAE,IAAK,CAAC,CAAC,CACtD,CAAC,CAAE,CAACtF,WAAW,CAAEE,YAAY,CAAEN,UAAU,CAACE,GAAG,CAAEF,UAAU,CAACG,SAAS,CAAEa,OAAO,CAAElB,UAAU,CAAEqD,QAAQ,CAAC,CAAC,CAEpG;AACAlF,SAAS,CAAC,IAAM,CACd0F,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACA,YAAY,CAAC,CAAC,CAElB;AACA,KAAM,CAAAD,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAAA2B,QAAQ,CAAG,KAAM,CAAAxG,SAAS,CAACyG,UAAU,CAAC,CAAE3D,IAAI,CAAE,IAAK,CAAC,CAAC,CAC3D,KAAM,CAAAgE,aAAa,CAAGN,QAAQ,CAACE,IAAI,CAACjG,OAAO,CAACsG,GAAG,CAAEC,MAAW,EAAAC,aAAA,CAAAA,aAAA,IACvDD,MAAM,MACTzD,SAAS,CAAEyD,MAAM,CAACE,EAAE,EAAIF,MAAM,CAACzD,SAAS,EACxC,CAAC,CACHb,aAAa,CAACoE,aAAa,CAAC,CAC9B,CAAE,MAAOK,GAAG,CAAE,CACZd,OAAO,CAACtF,KAAK,CAAC,yCAAyC,CAAEoG,GAAG,CAAC,CAC/D,CACF,CAAC,CAED;AACA,KAAM,CAAAC,UAAU,CAAGA,CAACC,MAAc,CAAEtC,MAAW,GAAK,CAClDsB,OAAO,CAACC,GAAG,IAAAC,MAAA,CAAIc,MAAM,kBAAiBtC,MAAM,CAAC,CAC/C,CAAC,CAED;AACA,KAAM,CAAAuC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B;AACA,GAAI,CAAA3G,eAAe,CAAG,CAAC,GAAG8B,UAAU,CAAC,CAErC;AACA,KAAM,CAAA8E,WAAoC,CAAG,CAC3ClF,eAAe,CAAEF,OAAO,CAACE,eAAe,CACxCC,QAAQ,CAAEH,OAAO,CAACG,QAAQ,CAC1BC,gBAAgB,CAAEJ,OAAO,CAACI,gBAAgB,CAC1CC,MAAM,CAAEL,OAAO,CAACK,MAClB,CAAC,CAED;AACA,KAAM,CAAAgF,wBAAwB,CAAIC,WAAmB,EAAK,CACxD,MAAO,CAAAhF,UAAU,CAACiF,MAAM,CAACV,MAAM,EAAI,CACjC,MAAO,CAAAf,MAAM,CAACC,OAAO,CAACqB,WAAW,CAAC,CAC/BG,MAAM,CAACC,KAAA,MAAC,CAACC,KAAK,CAAC,CAAAD,KAAA,OAAK,CAAAC,KAAK,GAAKH,WAAW,EAAIF,WAAW,CAACK,KAAK,CAAC,GAAK,EAAE,GAAC,CACvEC,KAAK,CAACC,KAAA,EAAoB,IAAnB,CAACF,KAAK,CAAE/B,KAAK,CAAC,CAAAiC,KAAA,CACpB;AACA,MAAO,CAAAd,MAAM,CAACY,KAAK,CAAiB,GAAK/B,KAAK,CAChD,CAAC,CAAC,CACN,CAAC,CAAC,CACJ,CAAC,CAED;AACA,KAAM,CAAAkC,gBAAgB,CAAG,CAAC,GAAG,GAAI,CAAAC,GAAG,CAClCR,wBAAwB,CAAC,iBAAiB,CAAC,CACxCT,GAAG,CAACC,MAAM,EAAIA,MAAM,CAAC3E,eAAe,CAAC,CACrCqF,MAAM,CAACO,OAAO,CACnB,CAAC,CAAC,CAACjF,IAAI,CAAC,CAAC,CAET,KAAM,CAAAkF,SAAS,CAAG,CAAC,GAAG,GAAI,CAAAF,GAAG,CAC3BR,wBAAwB,CAAC,UAAU,CAAC,CACjCT,GAAG,CAACC,MAAM,EAAIA,MAAM,CAAC1E,QAAQ,CAAC,CAC9BoF,MAAM,CAACO,OAAO,CACnB,CAAC,CAAC,CAACjF,IAAI,CAAC,CAAC,CAET,KAAM,CAAAmF,iBAAiB,CAAG,CAAC,GAAG,GAAI,CAAAH,GAAG,CACnCR,wBAAwB,CAAC,kBAAkB,CAAC,CACzCT,GAAG,CAACC,MAAM,EAAIA,MAAM,CAACzE,gBAAgB,CAAC,CACtCmF,MAAM,CAACO,OAAO,CACnB,CAAC,CAAC,CAACjF,IAAI,CAAC,CAAC,CAET;AACA,KAAM,CAAAoF,iBAAiB,CAAGZ,wBAAwB,CAAC,QAAQ,CAAC,CAC5D,KAAM,CAAAa,iBAAiB,CAAG,CAAC,GAAG,GAAI,CAAAL,GAAG,CACnCI,iBAAiB,CACdrB,GAAG,CAACC,MAAM,EAAIA,MAAM,CAACxE,MAAM,CAAC,CAC5BkF,MAAM,CAACO,OAAO,CACnB,CAAC,CAAC,CAEF;AACA,KAAM,CAAAK,QAAQ,CAAG,CAAC,MAAM,CAAE,UAAU,CAAE,KAAK,CAAC,CAACZ,MAAM,CAAClF,MAAM,EACxD6F,iBAAiB,CAACzC,MAAM,GAAK,CAAC,EAAIyC,iBAAiB,CAACE,QAAQ,CAAC/F,MAAM,CACrE,CAAC,CAED,MAAO,CACLuF,gBAAgB,CAChBG,SAAS,CACTC,iBAAiB,CACjBG,QACF,CAAC,CACH,CAAC,CAED;AACA,KAAM,CAAAE,gBAAgB,CAAGA,CAAA,GAAM,CAC7BC,UAAU,CAAC,IAAM,CACf,GAAIpE,cAAc,CAACqB,OAAO,CAAE,CAC1BrB,cAAc,CAACqB,OAAO,CAACC,KAAK,CAAC,CAAC,CAC9B,KAAM,CAAAC,MAAM,CAAGvB,cAAc,CAACqB,OAAO,CAACG,KAAK,CAACD,MAAM,CAClDvB,cAAc,CAACqB,OAAO,CAACI,iBAAiB,CAACF,MAAM,CAAEA,MAAM,CAAC,CAC1D,CACF,CAAC,CAAE,CAAC,CAAC,CACP,CAAC,CAED;AACA,KAAM,CAAA8C,gBAAgB,CAAIC,UAAkB,EAAK,CAC/CnH,cAAc,CAACmH,UAAU,CAAC,CAC1BH,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAED;AACA,KAAM,CAAAI,kBAAkB,CAAGA,CAAChB,KAAa,CAAE/B,KAAa,GAAK,CAC3DzD,UAAU,CAACyG,IAAI,EAAA5B,aAAA,CAAAA,aAAA,IACV4B,IAAI,MACP,CAACjB,KAAK,EAAG/B,KAAK,GAAK,KAAK,CAAGiD,SAAS,CAAGjD,KAAK,EAC5C,CAAC,CACHrE,cAAc,CAAC,CAAC,CAAC,CAAE;AACnBgH,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAED;AACA,KAAM,CAAAO,UAAU,CAAI1H,GAAiB,EAAK,CACxCD,aAAa,CAAC,CACZC,GAAG,CACHC,SAAS,CAAEH,UAAU,CAACE,GAAG,GAAKA,GAAG,EAAIF,UAAU,CAACG,SAAS,GAAK,KAAK,CAAG,MAAM,CAAG,KACjF,CAAC,CAAC,CACFkH,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAED;AACA,KAAM,CAAAQ,WAAW,CAAIC,UAAwB,EAAK,CAChD,GAAI9H,UAAU,CAACE,GAAG,GAAK4H,UAAU,CAAE,CACjC,MAAO,KAAI,CACb,CACA,MAAO,CAAA9H,UAAU,CAACG,SAAS,GAAK,KAAK,cACnClB,IAAA,CAACT,aAAa,EAACuJ,SAAS,CAAC,cAAc,CAAE,CAAC,cAC1C9I,IAAA,CAACV,eAAe,EAACwJ,SAAS,CAAC,cAAc,CAAE,CAAC,CAChD,CAAC,CAED;AACA,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB/G,UAAU,CAAC,CACTC,eAAe,CAAE,EAAE,CACnBC,QAAQ,CAAE,EAAE,CACZC,gBAAgB,CAAE,EAAE,CACpBC,MAAM,CAAE,EACV,CAAC,CAAC,CACFtB,aAAa,CAAC,EAAE,CAAC,CACjBkD,mBAAmB,CAAC,EAAE,CAAC,CACvB5C,cAAc,CAAC,CAAC,CAAC,CACjBgH,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAED;AACA,KAAM,CAAAY,kBAAkB,CAAIC,CAAsC,EAAK,CACrE,KAAM,CAAAxD,KAAK,CAAGwD,CAAC,CAACC,MAAM,CAACzD,KAAK,CAC5BzB,mBAAmB,CAACyB,KAAK,CAAC,CAAE;AAE5B;AACA,GAAI3B,gBAAgB,CAACwB,OAAO,CAAE,CAC5B6D,YAAY,CAACrF,gBAAgB,CAACwB,OAAO,CAAC,CACxC,CAEA;AACAxB,gBAAgB,CAACwB,OAAO,CAAG+C,UAAU,CAAC,IAAM,CAC1CvH,aAAa,CAAC2E,KAAK,CAAC,CACpBrE,cAAc,CAAC,CAAC,CAAC,CAAE;AACrB,CAAC,CAAE,GAAG,CAAC,CAAE;AACX,CAAC,CAED;AACApC,SAAS,CAAC,IAAM,CACd,MAAO,IAAM,CACX,GAAI8E,gBAAgB,CAACwB,OAAO,CAAE,CAC5B6D,YAAY,CAACrF,gBAAgB,CAACwB,OAAO,CAAC,CACxC,CACF,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAA8D,eAAe,CAAGjI,WAAW,CAAGE,YAAY,CAClD,KAAM,CAAAgI,gBAAgB,CAAGD,eAAe,CAAG/H,YAAY,CAEvD;AACA,KAAM,CAAAiI,wBAAwB,CAAIC,KAA2C,EAAK,CAChF,KAAM,CAAAC,OAAO,CAAGC,MAAM,CAACF,KAAK,CAACL,MAAM,CAACzD,KAAK,CAAC,CAC1CnE,eAAe,CAACkI,OAAO,CAAC,CACxBhH,cAAc,CAACiG,IAAI,EAAA5B,aAAA,CAAAA,aAAA,IACd4B,IAAI,MACP/F,IAAI,CAAE8G,OAAO,CACb/G,IAAI,CAAE,CAAC,EACP,CAAC,CACL,CAAC,CAED,KAAM,CAAAiH,sBAAsB,CAAG,KAAAA,CAAA,GAAY,CACzC,GAAI,CACF,KAAM,CAAAtD,QAAQ,CAAG,KAAM,CAAAxG,SAAS,CAAC+J,iBAAiB,CAAC,CAAC,CAEpD;AACA,KAAM,CAAAC,GAAG,CAAG/E,MAAM,CAACgF,GAAG,CAACC,eAAe,CAAC,GAAI,CAAAC,IAAI,CAAC,CAAC3D,QAAQ,CAACE,IAAI,CAAC,CAAC,CAAC,CACjE,KAAM,CAAA0D,IAAI,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACxCF,IAAI,CAACG,IAAI,CAAGP,GAAG,CACfI,IAAI,CAACI,YAAY,CAAC,UAAU,CAAE,6BAA6B,CAAC,CAC5DH,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,IAAI,CAAC,CAC/BA,IAAI,CAACO,KAAK,CAAC,CAAC,CACZP,IAAI,CAACQ,MAAM,CAAC,CAAC,CACf,CAAE,MAAOzD,GAAG,CAAE,CACZd,OAAO,CAACtF,KAAK,CAAC,6BAA6B,CAAEoG,GAAG,CAAC,CACjDnF,kBAAkB,CAAC,gDAAgD,CAAC,CACpEyG,UAAU,CAAC,IAAMzG,kBAAkB,CAAC,IAAI,CAAC,CAAE,IAAI,CAAC,CAClD,CACF,CAAC,CAED,KAAM,CAAA6I,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF;AACA,KAAM,CAAA9F,MAAW,CAAG,CAAC,CAAC,CACtB,GAAI9D,UAAU,CAAE8D,MAAM,CAAChC,MAAM,CAAG9B,UAAU,CAC1C,GAAIkB,OAAO,CAACE,eAAe,CAAE0C,MAAM,CAAC1C,eAAe,CAAGF,OAAO,CAACE,eAAe,CAC7E,GAAIF,OAAO,CAACG,QAAQ,CAAEyC,MAAM,CAACzC,QAAQ,CAAGH,OAAO,CAACG,QAAQ,CACxD,GAAIH,OAAO,CAACI,gBAAgB,CAAEwC,MAAM,CAACxC,gBAAgB,CAAGJ,OAAO,CAACI,gBAAgB,CAChF,GAAIJ,OAAO,CAACK,MAAM,CAAEuC,MAAM,CAACvC,MAAM,CAAGL,OAAO,CAACK,MAAM,CAElD,KAAM,CAAAgE,QAAQ,CAAG,KAAM,CAAAxG,SAAS,CAAC8K,aAAa,CAAC/F,MAAM,CAAC,CAEtD;AACA,KAAM,CAAAiF,GAAG,CAAG/E,MAAM,CAACgF,GAAG,CAACC,eAAe,CAAC,GAAI,CAAAC,IAAI,CAAC,CAAC3D,QAAQ,CAACE,IAAI,CAAC,CAAC,CAAC,CACjE,KAAM,CAAA0D,IAAI,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACxCF,IAAI,CAACG,IAAI,CAAGP,GAAG,CACfI,IAAI,CAACI,YAAY,CAAC,UAAU,CAAE,qBAAqB,CAAC,CACpDH,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,IAAI,CAAC,CAC/BA,IAAI,CAACO,KAAK,CAAC,CAAC,CACZP,IAAI,CAACQ,MAAM,CAAC,CAAC,CAEb1I,oBAAoB,CAAC,gCAAgC,CAAC,CACtDuG,UAAU,CAAC,IAAMvG,oBAAoB,CAAC,IAAI,CAAC,CAAE,IAAI,CAAC,CACpD,CAAE,MAAOiF,GAAG,CAAE,CACZd,OAAO,CAACtF,KAAK,CAAC,0BAA0B,CAAEoG,GAAG,CAAC,CAC9CnF,kBAAkB,CAAC,6CAA6C,CAAC,CACjEyG,UAAU,CAAC,IAAMzG,kBAAkB,CAAC,IAAI,CAAC,CAAE,IAAI,CAAC,CAClD,CACF,CAAC,CAED,KAAM,CAAA+I,gBAAgB,CAAG,KAAO,CAAApB,KAA0C,EAAK,CAC7E,GAAI,CAACA,KAAK,CAACL,MAAM,CAAC0B,KAAK,EAAIrB,KAAK,CAACL,MAAM,CAAC0B,KAAK,CAACpF,MAAM,GAAK,CAAC,CAAE,CAC1D,OACF,CAEA,KAAM,CAAAqF,IAAI,CAAGtB,KAAK,CAACL,MAAM,CAAC0B,KAAK,CAAC,CAAC,CAAC,CAClC,KAAM,CAAAE,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACnF,MAAM,CAAC,MAAM,CAAEkF,IAAI,CAAC,CAE7B,GAAI,CACFnK,UAAU,CAAC,IAAI,CAAC,CAEhB,KAAM,CAAA0F,QAAQ,CAAG,KAAM,CAAAxG,SAAS,CAACoL,aAAa,CAACF,QAAQ,CAAC,CAExDhJ,oBAAoB,uBAAAqE,MAAA,CAAuBC,QAAQ,CAACE,IAAI,CAAC2E,OAAO,qBAAA9E,MAAA,CAAmBC,QAAQ,CAACE,IAAI,CAAC4E,MAAM,YAAU,CAAC,CAElH;AACAxG,YAAY,CAAC,CAAC,CAEhB,CAAE,MAAOqC,GAAQ,CAAE,KAAAoE,aAAA,CAAAC,kBAAA,CACjBnF,OAAO,CAACtF,KAAK,CAAC,uBAAuB,CAAEoG,GAAG,CAAC,CAC3CnF,kBAAkB,CAAC,EAAAuJ,aAAA,CAAApE,GAAG,CAACX,QAAQ,UAAA+E,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAc7E,IAAI,UAAA8E,kBAAA,iBAAlBA,kBAAA,CAAoBC,OAAO,GAAI,6CAA6C,CAAC,CAClG,CAAC,OAAS,CACR3K,UAAU,CAAC,KAAK,CAAC,CACjB;AACA6I,KAAK,CAACL,MAAM,CAACzD,KAAK,CAAG,EAAE,CACzB,CACF,CAAC,CAED;AACA,KAAM,CAAA6F,iBAAiB,CAAIrC,CAA0D,EAAK,CACxF,KAAM,CAAEsC,IAAI,CAAE9F,KAAM,CAAC,CAAGwD,CAAC,CAACC,MAAM,CAChCjG,gBAAgB,CAACwF,IAAI,EAAA5B,aAAA,CAAAA,aAAA,IAAU4B,IAAI,MAAE,CAAC8C,IAAI,EAAG9F,KAAK,EAAG,CAAC,CACxD,CAAC,CAED;AACA,KAAM,CAAA+F,eAAe,CAAG,KAAO,CAAAvC,CAAkB,EAAK,CACpDA,CAAC,CAACwC,cAAc,CAAC,CAAC,CAElB,GAAI,CACF;AACA,KAAM,CAAAC,UAAU,CAAA7E,aAAA,CAAAA,aAAA,IACX7D,aAAa,MAChB8D,EAAE,CAAE9D,aAAa,CAACG,SAAU;AAAA,EAC7B,CAED;AACA,KAAM,CAAAvD,SAAS,CAAC+L,YAAY,CAACD,UAAU,CAAC,CAExC;AACAhH,YAAY,CAAC,CAAC,CAEd;AACA3B,eAAe,CAAC,KAAK,CAAC,CACtBE,gBAAgB,CAAC,CACfC,QAAQ,CAAE,EAAE,CACZC,SAAS,CAAE,EAAE,CACblB,eAAe,CAAE,EAAE,CACnBmB,UAAU,CAAE,EAAE,CACdC,UAAU,CAAE,EAAE,CACdC,eAAe,CAAE,EAAE,CACnBC,eAAe,CAAE,EAAE,CACnBpB,gBAAgB,CAAE,EAAE,CACpBqB,QAAQ,CAAE,EAAE,CACZtB,QAAQ,CAAE,EAAE,CACZuB,YAAY,CAAE,EAAE,CAChBC,GAAG,CAAE,EAAE,CACPC,GAAG,CAAE,EAAE,CACPvB,MAAM,CAAE,KACV,CAAC,CAAC,CAEF;AACAN,oBAAoB,CAAC,2BAA2B,CAAC,CACjDuG,UAAU,CAAC,IAAMvG,oBAAoB,CAAC,IAAI,CAAC,CAAE,IAAI,CAAC,CACpD,CAAE,MAAOiF,GAAG,CAAE,CACZd,OAAO,CAACtF,KAAK,CAAC,sBAAsB,CAAEoG,GAAG,CAAC,CAC1CnF,kBAAkB,CAAC,yCAAyC,CAAC,CAC7DyG,UAAU,CAAC,IAAMzG,kBAAkB,CAAC,IAAI,CAAC,CAAE,IAAI,CAAC,CAClD,CACF,CAAC,CAED,KAAM,CAAAgK,qBAAqB,CAAG,KAAAA,CAAA,GAAY,CACxC,GAAI,CACFlL,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAd,SAAS,CAACiM,eAAe,CAAC,CAAC,CACjC/J,oBAAoB,CAAC,4CAA4C,CAAC,CAClE+B,2BAA2B,CAAC,KAAK,CAAC,CAClCa,YAAY,CAAC,CAAC,CAAE;AAClB,CAAE,MAAOqC,GAAG,CAAE,CACZd,OAAO,CAACtF,KAAK,CAAC,yBAAyB,CAAEoG,GAAG,CAAC,CAC7CnF,kBAAkB,CAAC,4CAA4C,CAAC,CAClE,CAAC,OAAS,CACRlB,UAAU,CAAC,KAAK,CAAC,CACjB2H,UAAU,CAAC,IAAMvG,oBAAoB,CAAC,IAAI,CAAC,CAAE,IAAI,CAAC,CACpD,CACF,CAAC,CAED;AACA,KAAM,CAAAoD,kBAAkB,CAAIsC,KAAa,EAA4B,CACnE,MAAO,CACL,IAAI,CAAE,UAAU,CAAE,IAAI,CAAE,WAAW,CAAE,iBAAiB,CAAE,YAAY,CACpE,YAAY,CAAE,iBAAiB,CAAE,iBAAiB,CAAE,kBAAkB,CACtE,UAAU,CAAE,cAAc,CAAE,KAAK,CAAE,KAAK,CAAE,QAAQ,CAAE,WAAW,CAAE,WAAW,CAC5E,UAAU,CACX,CAACW,QAAQ,CAACX,KAAK,CAAC,CACnB,CAAC,CAED;AACA,KAAM,CAAAsE,gBAAgB,CAAIlF,MAAc,EAAK,CAC3CtC,iBAAiB,CAACsC,MAAM,CAAC,CACzBxC,gBAAgB,CAAC,IAAI,CAAC,CACxB,CAAC,CAED;AACA,KAAM,CAAA2H,wBAAwB,CAAInF,MAAc,EAAK,CACnDtC,iBAAiB,CAACsC,MAAM,CAAC,CACzBpC,yBAAyB,CAAC,IAAI,CAAC,CACjC,CAAC,CAED;AACA,KAAM,CAAAwH,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CAAC3H,cAAc,CAAE,OAErB,GAAI,CACF3D,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAd,SAAS,CAACqM,YAAY,CAAC5H,cAAc,CAAC6H,EAAE,CAAC,CAE/C;AACApK,oBAAoB,WAAAqE,MAAA,CAAW9B,cAAc,CAACnB,QAAQ,yBAAuB,CAAC,CAE9E;AACAwB,YAAY,CAAC,CAAC,CAEd;AACAF,yBAAyB,CAAC,KAAK,CAAC,CAChCF,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAE,MAAO3D,KAAK,CAAE,CACdsF,OAAO,CAACtF,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9CiB,kBAAkB,CAAC,4CAA4C,CAAC,CAClE,CAAC,OAAS,CACRlB,UAAU,CAAC,KAAK,CAAC,CACjB2H,UAAU,CAAC,IAAMvG,oBAAoB,CAAC,IAAI,CAAC,CAAE,IAAI,CAAC,CACpD,CACF,CAAC,CAED;AACA,KAAM,CAAAqK,kBAAkB,CAAG,KAAO,CAAAlD,CAAkB,EAAK,CACvDA,CAAC,CAACwC,cAAc,CAAC,CAAC,CAElB,GAAI,CAACpH,cAAc,CAAE,OAErB,GAAI,CACF3D,UAAU,CAAC,IAAI,CAAC,CAEhB;AACA,KAAM,CAAAgL,UAAU,CAAA7E,aAAA,IAAQxC,cAAc,CAAE,CAExC;AACA,GAAIqH,UAAU,CAACvI,SAAS,CAAE,CACxBuI,UAAU,CAAC5E,EAAE,CAAG4E,UAAU,CAACvI,SAAS,CACpC,MAAO,CAAAuI,UAAU,CAACvI,SAAS,CAC7B,CAEA;AACA,GAAIuI,UAAU,CAACtJ,MAAM,EAAI,CAAC,CAAC,MAAM,CAAE,UAAU,CAAE,KAAK,CAAC,CAAC+F,QAAQ,CAACuD,UAAU,CAACtJ,MAAM,CAACgK,WAAW,CAAC,CAAC,CAAC,CAAE,CAC/FxK,kBAAkB,CAAC,2DAA2D,CAAC,CAC/ElB,UAAU,CAAC,KAAK,CAAC,CACjB,OACF,CAEA;AACA,KAAM,CAAAd,SAAS,CAACyM,YAAY,CAAChI,cAAc,CAAC6H,EAAE,CAAER,UAAU,CAAC,CAE3D;AACAhH,YAAY,CAAC,CAAC,CAEd;AACAN,gBAAgB,CAAC,KAAK,CAAC,CACvBE,iBAAiB,CAAC,IAAI,CAAC,CAEvB;AACAxC,oBAAoB,CAAC,6BAA6B,CAAC,CACrD,CAAE,MAAOnB,KAAU,CAAE,CACnBsF,OAAO,CAACtF,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAE9C;AACA,GAAIA,KAAK,CAACyF,QAAQ,EAAIzF,KAAK,CAACyF,QAAQ,CAACE,IAAI,EAAI3F,KAAK,CAACyF,QAAQ,CAACE,IAAI,CAAC+E,OAAO,CAAE,CACxEzJ,kBAAkB,6BAAAuE,MAAA,CAA6BxF,KAAK,CAACyF,QAAQ,CAACE,IAAI,CAAC+E,OAAO,CAAE,CAAC,CAC7E,GAAI1K,KAAK,CAACyF,QAAQ,CAACE,IAAI,CAAC3F,KAAK,CAAE,CAC7BsF,OAAO,CAACtF,KAAK,CAAC,iBAAiB,CAAEA,KAAK,CAACyF,QAAQ,CAACE,IAAI,CAAC3F,KAAK,CAAC,CAC7D,CACF,CAAC,IAAM,CACLiB,kBAAkB,CAAC,4CAA4C,CAAC,CAClE,CACF,CAAC,OAAS,CACRlB,UAAU,CAAC,KAAK,CAAC,CACjB2H,UAAU,CAAC,IAAMvG,oBAAoB,CAAC,IAAI,CAAC,CAAE,IAAI,CAAC,CACpD,CACF,CAAC,CAED,GAAIrB,OAAO,CAAE,CACX,mBACET,IAAA,QAAK8I,SAAS,CAAC,uDAAuD,CAAAwD,QAAA,cACpEtM,IAAA,QAAK8I,SAAS,CAAC,sFAAsF,CAAM,CAAC,CACzG,CAAC,CAEV,CAEA,GAAInI,KAAK,CAAE,CACT,mBACEX,IAAA,QAAK8I,SAAS,CAAC,0GAA0G,CAACyD,IAAI,CAAC,OAAO,CAAAD,QAAA,cACpItM,IAAA,SAAM8I,SAAS,CAAC,iBAAiB,CAAAwD,QAAA,CAAE3L,KAAK,CAAO,CAAC,CAC7C,CAAC,CAEV,CAEA;AACA,KAAM,CAAA6L,aAAa,CAAGtF,gBAAgB,CAAC,CAAC,CAExC,mBACEhH,KAAA,QAAAoM,QAAA,eACEtM,IAAA,OAAI8I,SAAS,CAAC,uDAAuD,CAAAwD,QAAA,CAAC,kBAAgB,CAAI,CAAC,cAG3FpM,KAAA,QAAK4I,SAAS,CAAC,eAAe,CAAAwD,QAAA,eAC5BpM,KAAA,QAAK4I,SAAS,CAAC,oEAAoE,CAAAwD,QAAA,eAEjFtM,IAAA,QAAK8I,SAAS,CAAC,iBAAiB,CAAAwD,QAAA,cAC9BpM,KAAA,QAAK4I,SAAS,CAAC,UAAU,CAAAwD,QAAA,eACvBtM,IAAA,UACEyM,GAAG,CAAExI,cAAe,CACpByI,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,mBAAmB,CAC/B7D,SAAS,CAAC,kBAAkB,CAC5BrD,KAAK,CAAE1B,gBAAiB,CACxB6I,QAAQ,CAAE5D,kBAAmB,CAC7B6D,SAAS,MACV,CAAC,cACF7M,IAAA,CAACb,mBAAmB,EAAC2J,SAAS,CAAC,+CAA+C,CAAE,CAAC,EAC9E,CAAC,CACH,CAAC,cAEN5I,KAAA,QAAK4I,SAAS,CAAC,sBAAsB,CAAAwD,QAAA,EAElClM,OAAO,CAAC,CAAC,eACRF,KAAA,WACE4I,SAAS,CAAC,aAAa,CACvBgE,OAAO,CAAEA,CAAA,GAAM/J,eAAe,CAAC,IAAI,CAAE,CAAAuJ,QAAA,eAErCtM,IAAA,CAACP,QAAQ,EAACqJ,SAAS,CAAC,cAAc,CAAE,CAAC,aAEvC,EAAQ,CACT,CAGA1I,OAAO,CAAC,CAAC,eACRF,KAAA,QAAK4I,SAAS,CAAC,gBAAgB,CAAAwD,QAAA,eAC7BpM,KAAA,UAAO4I,SAAS,CAAC,4BAA4B,CAAAwD,QAAA,eAC3CtM,IAAA,CAACX,eAAe,EAACyJ,SAAS,CAAC,cAAc,CAAE,CAAC,SAE5C,cAAA9I,IAAA,UAAO0M,IAAI,CAAC,MAAM,CAAC5D,SAAS,CAAC,QAAQ,CAAC8D,QAAQ,CAAEjC,gBAAiB,CAACoC,MAAM,CAAC,iBAAiB,CAAE,CAAC,EACxF,CAAC,cAER7M,KAAA,WACE4I,SAAS,CAAC,aAAa,CACvBgE,OAAO,CAAErC,YAAa,CAAA6B,QAAA,eAEtBtM,IAAA,CAACZ,iBAAiB,EAAC0J,SAAS,CAAC,cAAc,CAAE,CAAC,SAEhD,EAAQ,CAAC,cAET5I,KAAA,WACE4I,SAAS,CAAC,eAAe,CACzBgE,OAAO,CAAEpD,sBAAuB,CAAA4C,QAAA,eAEhCtM,IAAA,CAACR,qBAAqB,EAACsJ,SAAS,CAAC,cAAc,CAAE,CAAC,WAEpD,EAAQ,CAAC,cAGT5I,KAAA,WACE4I,SAAS,CAAC,YAAY,CACtBgE,OAAO,CAAEA,CAAA,GAAMjJ,2BAA2B,CAAC,IAAI,CAAE,CAAAyI,QAAA,eAEjDtM,IAAA,CAACL,SAAS,EAACmJ,SAAS,CAAC,cAAc,CAAE,CAAC,YAExC,EAAQ,CAAC,EACN,CACN,EACE,CAAC,EACH,CAAC,cAGN5I,KAAA,QAAK4I,SAAS,CAAC,2DAA2D,CAAAwD,QAAA,eACxEpM,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,CAAC,kBAAgB,CAAO,CAAC,cAC3GpM,KAAA,WACE4I,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAE1D,OAAO,CAACE,eAAgB,CAC/B2K,QAAQ,CAAG3D,CAAC,EAAKT,kBAAkB,CAAC,iBAAiB,CAAES,CAAC,CAACC,MAAM,CAACzD,KAAK,CAAE,CAAA6G,QAAA,eAEvEtM,IAAA,WAAQyF,KAAK,CAAC,EAAE,CAAA6G,QAAA,CAAC,uBAAqB,CAAQ,CAAC,CAC9CE,aAAa,CAAC7E,gBAAgB,CAAChB,GAAG,CAAEqG,EAAE,eACrChN,IAAA,WAAiByF,KAAK,CAAEuH,EAAG,CAAAV,QAAA,CAAEU,EAAE,EAAlBA,EAA2B,CACzC,CAAC,EACI,CAAC,EACN,CAAC,cAEN9M,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,CAAC,UAAQ,CAAO,CAAC,cACnGpM,KAAA,WACE4I,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAE1D,OAAO,CAACG,QAAS,CACxB0K,QAAQ,CAAG3D,CAAC,EAAKT,kBAAkB,CAAC,UAAU,CAAES,CAAC,CAACC,MAAM,CAACzD,KAAK,CAAE,CAAA6G,QAAA,eAEhEtM,IAAA,WAAQyF,KAAK,CAAC,EAAE,CAAA6G,QAAA,CAAC,eAAa,CAAQ,CAAC,CACtCE,aAAa,CAAC1E,SAAS,CAACnB,GAAG,CAAEzE,QAAQ,eACpClC,IAAA,WAAuByF,KAAK,CAAEvD,QAAS,CAAAoK,QAAA,CAAEpK,QAAQ,EAApCA,QAA6C,CAC3D,CAAC,EACI,CAAC,EACN,CAAC,cAENhC,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,CAAC,mBAAiB,CAAO,CAAC,cAC5GpM,KAAA,WACE4I,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAE1D,OAAO,CAACI,gBAAiB,CAChCyK,QAAQ,CAAG3D,CAAC,EAAKT,kBAAkB,CAAC,kBAAkB,CAAES,CAAC,CAACC,MAAM,CAACzD,KAAK,CAAE,CAAA6G,QAAA,eAExEtM,IAAA,WAAQyF,KAAK,CAAC,EAAE,CAAA6G,QAAA,CAAC,wBAAsB,CAAQ,CAAC,CAC/CE,aAAa,CAACzE,iBAAiB,CAACpB,GAAG,CAAEsG,KAAK,eACzCjN,IAAA,WAAoByF,KAAK,CAAEwH,KAAM,CAAAX,QAAA,CAAEW,KAAK,EAA3BA,KAAoC,CAClD,CAAC,EACI,CAAC,EACN,CAAC,cAEN/M,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,CAAC,QAAM,CAAO,CAAC,cACjGpM,KAAA,WACE4I,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAE1D,OAAO,CAACK,MAAO,CACtBwK,QAAQ,CAAG3D,CAAC,EAAKT,kBAAkB,CAAC,QAAQ,CAAES,CAAC,CAACC,MAAM,CAACzD,KAAK,CAAE,CAAA6G,QAAA,eAE9DtM,IAAA,WAAQyF,KAAK,CAAC,EAAE,CAAA6G,QAAA,CAAC,cAAY,CAAQ,CAAC,CACrCE,aAAa,CAACtE,QAAQ,CAACvB,GAAG,CAAEvE,MAAM,eACjCpC,IAAA,WAAqByF,KAAK,CAAErD,MAAO,CAAAkK,QAAA,CAAElK,MAAM,EAA9BA,MAAuC,CACrD,CAAC,EACI,CAAC,EACN,CAAC,EACH,CAAC,cAGNpC,IAAA,QAAK8I,SAAS,CAAC,uBAAuB,CAAAwD,QAAA,cACpCtM,IAAA,WACE8I,SAAS,CAAC,WAAW,CACrBgE,OAAO,CAAE/D,YAAa,CAAAuD,QAAA,CACvB,eAED,CAAQ,CAAC,CACN,CAAC,CAGL3K,eAAe,eACd3B,IAAA,QAAK8I,SAAS,CAAC,oHAAoH,CAAAwD,QAAA,CAChI3K,eAAe,CACb,CACN,CAEAE,iBAAiB,eAChB7B,IAAA,QAAK8I,SAAS,CAAC,yHAAyH,CAAAwD,QAAA,CACrIzK,iBAAiB,CACf,CACN,EACE,CAAC,cAGN3B,KAAA,QAAK4I,SAAS,CAAC,iBAAiB,CAAAwD,QAAA,eAC9BtM,IAAA,QAAK8I,SAAS,CAAC,iBAAiB,CAAAwD,QAAA,cAC9BpM,KAAA,UAAO4I,SAAS,CAAC,0DAA0D,CAAAwD,QAAA,eACzEtM,IAAA,UAAO8I,SAAS,CAAC,6BAA6B,CAAAwD,QAAA,cAC5CpM,KAAA,OAAAoM,QAAA,eACEtM,IAAA,OACEkN,KAAK,CAAC,KAAK,CACXpE,SAAS,CAAC,kHAAkH,CAC5HgE,OAAO,CAAEA,CAAA,GAAMnE,UAAU,CAAC,UAAU,CAAE,CAAA2D,QAAA,cAEtCpM,KAAA,QAAK4I,SAAS,CAAC,mBAAmB,CAAAwD,QAAA,EAAC,UAEjC,CAAC1D,WAAW,CAAC,UAAU,CAAC,EACrB,CAAC,CACJ,CAAC,cACL5I,IAAA,OACEkN,KAAK,CAAC,KAAK,CACXpE,SAAS,CAAC,kHAAkH,CAC5HgE,OAAO,CAAEA,CAAA,GAAMnE,UAAU,CAAC,IAAI,CAAE,CAAA2D,QAAA,cAEhCpM,KAAA,QAAK4I,SAAS,CAAC,mBAAmB,CAAAwD,QAAA,EAAC,YAEjC,CAAC1D,WAAW,CAAC,IAAI,CAAC,EACf,CAAC,CACJ,CAAC,cACL5I,IAAA,OACEkN,KAAK,CAAC,KAAK,CACXpE,SAAS,CAAC,kHAAkH,CAC5HgE,OAAO,CAAEA,CAAA,GAAMnE,UAAU,CAAC,iBAAiB,CAAE,CAAA2D,QAAA,cAE7CpM,KAAA,QAAK4I,SAAS,CAAC,mBAAmB,CAAAwD,QAAA,EAAC,IAEjC,CAAC1D,WAAW,CAAC,iBAAiB,CAAC,EAC5B,CAAC,CACJ,CAAC,cACL5I,IAAA,OACEkN,KAAK,CAAC,KAAK,CACXpE,SAAS,CAAC,kHAAkH,CAC5HgE,OAAO,CAAEA,CAAA,GAAMnE,UAAU,CAAC,YAAY,CAAE,CAAA2D,QAAA,cAExCpM,KAAA,QAAK4I,SAAS,CAAC,mBAAmB,CAAAwD,QAAA,EAAC,MAEjC,CAAC1D,WAAW,CAAC,YAAY,CAAC,EACvB,CAAC,CACJ,CAAC,cACL5I,IAAA,OACEkN,KAAK,CAAC,KAAK,CACXpE,SAAS,CAAC,kHAAkH,CAC5HgE,OAAO,CAAEA,CAAA,GAAMnE,UAAU,CAAC,YAAY,CAAE,CAAA2D,QAAA,cAExCpM,KAAA,QAAK4I,SAAS,CAAC,mBAAmB,CAAAwD,QAAA,EAAC,MAEjC,CAAC1D,WAAW,CAAC,YAAY,CAAC,EACvB,CAAC,CACJ,CAAC,cACL5I,IAAA,OACEkN,KAAK,CAAC,KAAK,CACXpE,SAAS,CAAC,kHAAkH,CAC5HgE,OAAO,CAAEA,CAAA,GAAMnE,UAAU,CAAC,iBAAiB,CAAE,CAAA2D,QAAA,cAE7CpM,KAAA,QAAK4I,SAAS,CAAC,mBAAmB,CAAAwD,QAAA,EAAC,aAEjC,CAAC1D,WAAW,CAAC,iBAAiB,CAAC,EAC5B,CAAC,CACJ,CAAC,cACL5I,IAAA,OACEkN,KAAK,CAAC,KAAK,CACXpE,SAAS,CAAC,kHAAkH,CAC5HgE,OAAO,CAAEA,CAAA,GAAMnE,UAAU,CAAC,iBAAiB,CAAE,CAAA2D,QAAA,cAE7CpM,KAAA,QAAK4I,SAAS,CAAC,mBAAmB,CAAAwD,QAAA,EAAC,UAEjC,CAAC1D,WAAW,CAAC,iBAAiB,CAAC,EAC5B,CAAC,CACJ,CAAC,cACL5I,IAAA,OACEkN,KAAK,CAAC,KAAK,CACXpE,SAAS,CAAC,kHAAkH,CAC5HgE,OAAO,CAAEA,CAAA,GAAMnE,UAAU,CAAC,kBAAkB,CAAE,CAAA2D,QAAA,cAE9CpM,KAAA,QAAK4I,SAAS,CAAC,mBAAmB,CAAAwD,QAAA,EAAC,WAEjC,CAAC1D,WAAW,CAAC,kBAAkB,CAAC,EAC7B,CAAC,CACJ,CAAC,cACL5I,IAAA,OACEkN,KAAK,CAAC,KAAK,CACXpE,SAAS,CAAC,kHAAkH,CAC5HgE,OAAO,CAAEA,CAAA,GAAMnE,UAAU,CAAC,UAAU,CAAE,CAAA2D,QAAA,cAEtCpM,KAAA,QAAK4I,SAAS,CAAC,mBAAmB,CAAAwD,QAAA,EAAC,UAEjC,CAAC1D,WAAW,CAAC,UAAU,CAAC,EACrB,CAAC,CACJ,CAAC,cACL5I,IAAA,OACEkN,KAAK,CAAC,KAAK,CACXpE,SAAS,CAAC,kHAAkH,CAC5HgE,OAAO,CAAEA,CAAA,GAAMnE,UAAU,CAAC,cAAc,CAAE,CAAA2D,QAAA,cAE1CpM,KAAA,QAAK4I,SAAS,CAAC,mBAAmB,CAAAwD,QAAA,EAAC,cAEjC,CAAC1D,WAAW,CAAC,cAAc,CAAC,EACzB,CAAC,CACJ,CAAC,cACL5I,IAAA,OACEkN,KAAK,CAAC,KAAK,CACXpE,SAAS,CAAC,kHAAkH,CAC5HgE,OAAO,CAAEA,CAAA,GAAMnE,UAAU,CAAC,KAAK,CAAE,CAAA2D,QAAA,cAEjCpM,KAAA,QAAK4I,SAAS,CAAC,mBAAmB,CAAAwD,QAAA,EAAC,KAEjC,CAAC1D,WAAW,CAAC,KAAK,CAAC,EAChB,CAAC,CACJ,CAAC,cACL5I,IAAA,OACEkN,KAAK,CAAC,KAAK,CACXpE,SAAS,CAAC,kHAAkH,CAC5HgE,OAAO,CAAEA,CAAA,GAAMnE,UAAU,CAAC,KAAK,CAAE,CAAA2D,QAAA,cAEjCpM,KAAA,QAAK4I,SAAS,CAAC,mBAAmB,CAAAwD,QAAA,EAAC,KAEjC,CAAC1D,WAAW,CAAC,KAAK,CAAC,EAChB,CAAC,CACJ,CAAC,cACL5I,IAAA,OACEkN,KAAK,CAAC,KAAK,CACXpE,SAAS,CAAC,kHAAkH,CAC5HgE,OAAO,CAAEA,CAAA,GAAMnE,UAAU,CAAC,QAAQ,CAAE,CAAA2D,QAAA,cAEpCpM,KAAA,QAAK4I,SAAS,CAAC,mBAAmB,CAAAwD,QAAA,EAAC,QAEjC,CAAC1D,WAAW,CAAC,QAAQ,CAAC,EACnB,CAAC,CACJ,CAAC,CACJxI,OAAO,CAAC,CAAC,eACRJ,IAAA,OACEkN,KAAK,CAAC,KAAK,CACXpE,SAAS,CAAC,mGAAmG,CAAAwD,QAAA,cAE7GtM,IAAA,QAAK8I,SAAS,CAAC,mBAAmB,CAAAwD,QAAA,CAAC,SAEnC,CAAK,CAAC,CACJ,CACL,EACC,CAAC,CACA,CAAC,cACRtM,IAAA,UAAO8I,SAAS,CAAC,yEAAyE,CAAAwD,QAAA,CACvF/L,eAAe,CAACiF,MAAM,CAAG,CAAC,CACzBjF,eAAe,CAACoG,GAAG,CAAEC,MAAM,eACzB1G,KAAA,OAAoB4I,SAAS,CAAC,wEAAwE,CAAAwD,QAAA,eACpGtM,IAAA,OAAI8I,SAAS,CAAC,+EAA+E,CAAAwD,QAAA,CAAE1F,MAAM,CAAC1D,QAAQ,CAAK,CAAC,cACpHlD,IAAA,OAAI8I,SAAS,CAAC,sEAAsE,CAAAwD,QAAA,CAAE1F,MAAM,CAACzD,SAAS,EAAIyD,MAAM,CAACE,EAAE,CAAK,CAAC,cACzH9G,IAAA,OAAI8I,SAAS,CAAC,sEAAsE,CAAAwD,QAAA,CAAE1F,MAAM,CAAC3E,eAAe,CAAK,CAAC,cAClHjC,IAAA,OAAI8I,SAAS,CAAC,sEAAsE,CAAAwD,QAAA,CAAE1F,MAAM,CAACxD,UAAU,CAAK,CAAC,cAC7GpD,IAAA,OAAI8I,SAAS,CAAC,sEAAsE,CAAAwD,QAAA,CAAE1F,MAAM,CAACvD,UAAU,CAAK,CAAC,cAC7GrD,IAAA,OAAI8I,SAAS,CAAC,sEAAsE,CAAAwD,QAAA,CAAE1F,MAAM,CAACtD,eAAe,CAAK,CAAC,cAClHtD,IAAA,OAAI8I,SAAS,CAAC,sEAAsE,CAAAwD,QAAA,CAAE1F,MAAM,CAACrD,eAAe,CAAK,CAAC,cAClHvD,IAAA,OAAI8I,SAAS,CAAC,sEAAsE,CAAAwD,QAAA,CAAE1F,MAAM,CAACzE,gBAAgB,CAAK,CAAC,cACnHnC,IAAA,OAAI8I,SAAS,CAAC,sEAAsE,CAAAwD,QAAA,CAAE1F,MAAM,CAAC1E,QAAQ,CAAK,CAAC,cAC3GlC,IAAA,OAAI8I,SAAS,CAAC,sEAAsE,CAAAwD,QAAA,CAAE1F,MAAM,CAACnD,YAAY,CAAK,CAAC,cAC/GzD,IAAA,OAAI8I,SAAS,CAAC,sEAAsE,CAAAwD,QAAA,CAAE1F,MAAM,CAAClD,GAAG,CAAK,CAAC,cACtG1D,IAAA,OAAI8I,SAAS,CAAC,sEAAsE,CAAAwD,QAAA,CAAE1F,MAAM,CAACjD,GAAG,CAAK,CAAC,cACtG3D,IAAA,OAAI8I,SAAS,CAAC,qCAAqC,CAAAwD,QAAA,cACjDtM,IAAA,SAAM8I,SAAS,iBAAA3C,MAAA,CACbS,MAAM,CAACxE,MAAM,GAAK,MAAM,CAAG,sBAAsB,CACjDwE,MAAM,CAACxE,MAAM,GAAK,UAAU,CAAG,qBAAqB,CACpD,mBAAmB,CAAG,CAAAkK,QAAA,CAErB1F,MAAM,CAACxE,MAAM,CACV,CAAC,CACL,CAAC,CACJhC,OAAO,CAAC,CAAC,eACRJ,IAAA,OAAI8I,SAAS,CAAC,sEAAsE,CAAAwD,QAAA,cAClFpM,KAAA,QAAK4I,SAAS,CAAC,gBAAgB,CAAAwD,QAAA,eAC7BtM,IAAA,WACE8M,OAAO,CAAEA,CAAA,GAAMhB,gBAAgB,CAAClF,MAAM,CAAE,CACxCkC,SAAS,CAAC,sHAAsH,CAAAwD,QAAA,CACjI,MAED,CAAQ,CAAC,cACTtM,IAAA,WACE8M,OAAO,CAAEA,CAAA,GAAMf,wBAAwB,CAACnF,MAAM,CAAE,CAChDkC,SAAS,CAAC,sHAAsH,CAAAwD,QAAA,CACjI,QAED,CAAQ,CAAC,EACN,CAAC,CACJ,CACL,GAvCM1F,MAAM,CAACsF,EAwCZ,CACL,CAAC,cAEFlM,IAAA,OAAAsM,QAAA,cACEtM,IAAA,OAAImN,OAAO,CAAE/M,OAAO,CAAC,CAAC,CAAG,EAAE,CAAG,EAAG,CAAC0I,SAAS,CAAC,gEAAgE,CAAAwD,QAAA,CAAC,kBAE7G,CAAI,CAAC,CACH,CACL,CACI,CAAC,EACH,CAAC,CACL,CAAC,cAGNtM,IAAA,QAAK8I,SAAS,CAAC,uHAAuH,CAAAwD,QAAA,cACpIpM,KAAA,QAAK4I,SAAS,CAAC,0CAA0C,CAAAwD,QAAA,eACvDtM,IAAA,QAAAsM,QAAA,cACEpM,KAAA,MAAG4I,SAAS,CAAC,0CAA0C,CAAAwD,QAAA,EAAC,UAC9C,cAAAtM,IAAA,SAAM8I,SAAS,CAAC,aAAa,CAAAwD,QAAA,CAAEc,IAAI,CAACC,GAAG,CAAChE,gBAAgB,CAAG,CAAC,CAAE9H,UAAU,CAAC,CAAO,CAAC,MAAG,CAAC,GAAG,cAChGvB,IAAA,SAAM8I,SAAS,CAAC,aAAa,CAAAwD,QAAA,CAC1Bc,IAAI,CAACC,GAAG,CAACjE,eAAe,CAAE7H,UAAU,CAAC,CAClC,CAAC,CAAC,GAAG,CAAC,KACT,cAAAvB,IAAA,SAAM8I,SAAS,CAAC,aAAa,CAAAwD,QAAA,CAAE/K,UAAU,CAAO,CAAC,WACtD,EAAG,CAAC,CACD,CAAC,cACNrB,KAAA,QAAK4I,SAAS,CAAC,6BAA6B,CAAAwD,QAAA,eAC1CpM,KAAA,WACE4I,SAAS,CAAC,6FAA6F,CACvGrD,KAAK,CAAEpE,YAAa,CACpBuL,QAAQ,CAAEtD,wBAAyB,CAAAgD,QAAA,eAEnCtM,IAAA,WAAQyF,KAAK,CAAE,CAAE,CAAA6G,QAAA,CAAC,YAAU,CAAQ,CAAC,cACrCtM,IAAA,WAAQyF,KAAK,CAAE,EAAG,CAAA6G,QAAA,CAAC,aAAW,CAAQ,CAAC,cACvCtM,IAAA,WAAQyF,KAAK,CAAE,EAAG,CAAA6G,QAAA,CAAC,aAAW,CAAQ,CAAC,cACvCtM,IAAA,WAAQyF,KAAK,CAAE,EAAG,CAAA6G,QAAA,CAAC,aAAW,CAAQ,CAAC,EACjC,CAAC,cACTpM,KAAA,QAAK4I,SAAS,CAAC,2DAA2D,CAAC,aAAW,YAAY,CAAAwD,QAAA,eAChGpM,KAAA,WACE4M,OAAO,CAAEA,CAAA,GAAMxE,gBAAgB,CAAC8E,IAAI,CAACE,GAAG,CAAC,CAAC,CAAEnM,WAAW,CAAG,CAAC,CAAC,CAAE,CAC9D2H,SAAS,CAAC,6NAA6N,CACvOyE,QAAQ,CAAEpM,WAAW,GAAK,CAAE,CAAAmL,QAAA,eAE5BtM,IAAA,SAAM8I,SAAS,CAAC,SAAS,CAAAwD,QAAA,CAAC,UAAQ,CAAM,CAAC,SAE3C,EAAQ,CAAC,CACRkB,KAAK,CAACC,IAAI,CAAC,CAAEjI,MAAM,CAAE4H,IAAI,CAACC,GAAG,CAAC,CAAC,CAAE5L,UAAU,CAAE,CAAC,CAAC,CAACkF,GAAG,CAAC,CAAC+G,CAAC,CAAEC,GAAG,GAAK,CAC/D,KAAM,CAAAC,UAAU,CAAGzM,WAAW,EAAI,CAAC,CAC/BwM,GAAG,CAAG,CAAC,CACPxM,WAAW,EAAIM,UAAU,CAAG,CAAC,CAC3BA,UAAU,CAAG,CAAC,CAAGkM,GAAG,CACpBxM,WAAW,CAAG,CAAC,CAAGwM,GAAG,CAE3B,GAAIC,UAAU,CAAG,CAAC,EAAIA,UAAU,EAAInM,UAAU,CAAE,CAC9C,mBACEzB,IAAA,WAEE8M,OAAO,CAAEA,CAAA,GAAMxE,gBAAgB,CAACsF,UAAU,CAAE,CAC5C9E,SAAS,uDAAA3C,MAAA,CACPhF,WAAW,GAAKyM,UAAU,CACtB,mDAAmD,CACnD,yIAAyI,CAC5I,CAAAtB,QAAA,CAEFsB,UAAU,EARNA,UASC,CAAC,CAEb,CACA,MAAO,KAAI,CACb,CAAC,CAAC,cACF1N,KAAA,WACE4M,OAAO,CAAEA,CAAA,GAAMxE,gBAAgB,CAAC8E,IAAI,CAACC,GAAG,CAAC5L,UAAU,CAAEN,WAAW,CAAG,CAAC,CAAC,CAAE,CACvE2H,SAAS,CAAC,6NAA6N,CACvOyE,QAAQ,CAAEpM,WAAW,GAAKM,UAAW,CAAA6K,QAAA,eAErCtM,IAAA,SAAM8I,SAAS,CAAC,SAAS,CAAAwD,QAAA,CAAC,MAAI,CAAM,CAAC,SAEvC,EAAQ,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,CAGLxJ,YAAY,eACX9C,IAAA,QAAK8I,SAAS,CAAC,oCAAoC,CAAAwD,QAAA,cACjDpM,KAAA,QAAK4I,SAAS,CAAC,wFAAwF,CAAAwD,QAAA,eACrGtM,IAAA,QAAK8I,SAAS,CAAC,kCAAkC,CAAC,cAAY,MAAM,CAAAwD,QAAA,cAClEtM,IAAA,QAAK8I,SAAS,CAAC,+DAA+D,CAAM,CAAC,CAClF,CAAC,cACN9I,IAAA,SAAM8I,SAAS,CAAC,oDAAoD,CAAC,cAAY,MAAM,CAAAwD,QAAA,CAAC,QAAO,CAAM,CAAC,cACtGtM,IAAA,QAAK8I,SAAS,CAAC,uJAAuJ,CAAAwD,QAAA,cACpKpM,KAAA,QAAK4I,SAAS,CAAC,iDAAiD,CAAAwD,QAAA,eAC9DpM,KAAA,QAAK4I,SAAS,CAAC,kCAAkC,CAAAwD,QAAA,eAC/CtM,IAAA,OAAI8I,SAAS,CAAC,6DAA6D,CAAAwD,QAAA,CACxEjI,cAAc,CAAG,aAAa,CAAG,gBAAgB,CAChD,CAAC,cACLnE,KAAA,WACE4I,SAAS,CAAC,2FAA2F,CACrGgE,OAAO,CAAEA,CAAA,GAAM,CACb/J,eAAe,CAAC,KAAK,CAAC,CACtBuB,iBAAiB,CAAC,IAAI,CAAC,CACvBuJ,SAAS,CAAC,CAAC,CACb,CAAE,CAAAvB,QAAA,eAEFtM,IAAA,SAAM8I,SAAS,CAAC,SAAS,CAAAwD,QAAA,CAAC,OAAK,CAAM,CAAC,cACtCtM,IAAA,CAACN,SAAS,EAACoJ,SAAS,CAAC,SAAS,CAAE,CAAC,EAC3B,CAAC,EACN,CAAC,cAEN5I,KAAA,SAAM4I,SAAS,CAAC,MAAM,CAACgF,QAAQ,CAAEtC,eAAgB,CAAAc,QAAA,eAC/CpM,KAAA,QAAK4I,SAAS,CAAC,uCAAuC,CAAAwD,QAAA,eAEpDpM,KAAA,QAAAoM,QAAA,eACEpM,KAAA,UAAO4I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,EAAC,WACxE,cAAAtM,IAAA,SAAM8I,SAAS,CAAC,iBAAiB,CAAAwD,QAAA,CAAC,GAAC,CAAM,CAAC,EAC9C,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,UAAU,CACfzC,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAEzC,aAAa,CAACE,QAAS,CAC9B0J,QAAQ,CAAEtB,iBAAkB,CAC5ByC,QAAQ,MACT,CAAC,EACC,CAAC,cAGN7N,KAAA,QAAAoM,QAAA,eACEpM,KAAA,UAAO4I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,EAAC,aACtE,cAAAtM,IAAA,SAAM8I,SAAS,CAAC,iBAAiB,CAAAwD,QAAA,CAAC,GAAC,CAAM,CAAC,EAChD,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,WAAW,CAChBzC,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAEzC,aAAa,CAACG,SAAU,CAC/ByJ,QAAQ,CAAEtB,iBAAkB,CAC5ByC,QAAQ,MACT,CAAC,EACC,CAAC,cAGN7N,KAAA,QAAAoM,QAAA,eACEpM,KAAA,UAAO4I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,EAAC,mBAChE,cAAAtM,IAAA,SAAM8I,SAAS,CAAC,iBAAiB,CAAAwD,QAAA,CAAC,GAAC,CAAM,CAAC,EACtD,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,iBAAiB,CACtBzC,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAEzC,aAAa,CAACf,eAAgB,CACrC2K,QAAQ,CAAEtB,iBAAkB,CAC5ByC,QAAQ,MACT,CAAC,EACC,CAAC,cAGN7N,KAAA,QAAAoM,QAAA,eACEpM,KAAA,UAAO4I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,EAAC,WACxE,cAAAtM,IAAA,SAAM8I,SAAS,CAAC,iBAAiB,CAAAwD,QAAA,CAAC,GAAC,CAAM,CAAC,EAC9C,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,UAAU,CACfzC,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAEzC,aAAa,CAACd,QAAS,CAC9B0K,QAAQ,CAAEtB,iBAAkB,CAC5ByC,QAAQ,MACT,CAAC,EACC,CAAC,cAGN7N,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,CAAC,KAEnF,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,KAAK,CACVzC,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAEzC,aAAa,CAACU,GAAI,CACzBkJ,QAAQ,CAAEtB,iBAAkB,CAC7B,CAAC,EACC,CAAC,cAGNpL,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,CAAC,KAEnF,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,KAAK,CACVzC,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAEzC,aAAa,CAACW,GAAI,CACzBiJ,QAAQ,CAAEtB,iBAAkB,CAC7B,CAAC,EACC,CAAC,cAGNpL,KAAA,QAAAoM,QAAA,eACEpM,KAAA,UAAO4I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,EAAC,SAC1E,cAAAtM,IAAA,SAAM8I,SAAS,CAAC,iBAAiB,CAAAwD,QAAA,CAAC,GAAC,CAAM,CAAC,EAC5C,CAAC,cACRpM,KAAA,WACEqL,IAAI,CAAC,QAAQ,CACbzC,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAEzC,aAAa,CAACZ,MAAO,CAC5BwK,QAAQ,CAAEtB,iBAAkB,CAC5ByC,QAAQ,MAAAzB,QAAA,eAERtM,IAAA,WAAQyF,KAAK,CAAC,EAAE,CAAA6G,QAAA,CAAC,eAAa,CAAQ,CAAC,cACvCtM,IAAA,WAAQyF,KAAK,CAAC,MAAM,CAAA6G,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClCtM,IAAA,WAAQyF,KAAK,CAAC,UAAU,CAAA6G,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC1CtM,IAAA,WAAQyF,KAAK,CAAC,aAAa,CAAA6G,QAAA,CAAC,aAAW,CAAQ,CAAC,EAC1C,CAAC,EACN,CAAC,cAGNpM,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,CAAC,mBAEnF,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,kBAAkB,CACvBzC,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAEzC,aAAa,CAACb,gBAAiB,CACtCyK,QAAQ,CAAEtB,iBAAkB,CAC7B,CAAC,EACC,CAAC,cAGNpL,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,CAAC,iBAEnF,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,gBAAgB,CACrBzC,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAEzC,aAAa,CAACgL,cAAe,CACpCpB,QAAQ,CAAEtB,iBAAkB,CAC7B,CAAC,EACC,CAAC,cAGNpL,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,CAAC,aAEnF,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,YAAY,CACjBzC,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAEzC,aAAa,CAACiL,UAAW,CAChCrB,QAAQ,CAAEtB,iBAAkB,CAC7B,CAAC,EACC,CAAC,cAGNpL,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,CAAC,aAEnF,CAAO,CAAC,cACRpM,KAAA,WACEqL,IAAI,CAAC,aAAa,CAClBzC,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAEzC,aAAa,CAACkL,WAAY,CACjCtB,QAAQ,CAAEtB,iBAAkB,CAAAgB,QAAA,eAE5BtM,IAAA,WAAQyF,KAAK,CAAC,EAAE,CAAA6G,QAAA,CAAC,oBAAkB,CAAQ,CAAC,cAC5CtM,IAAA,WAAQyF,KAAK,CAAC,YAAY,CAAA6G,QAAA,CAAC,YAAU,CAAQ,CAAC,cAC9CtM,IAAA,WAAQyF,KAAK,CAAC,aAAa,CAAA6G,QAAA,CAAC,aAAW,CAAQ,CAAC,cAChDtM,IAAA,WAAQyF,KAAK,CAAC,SAAS,CAAA6G,QAAA,CAAC,SAAO,CAAQ,CAAC,cACxCtM,IAAA,WAAQyF,KAAK,CAAC,SAAS,CAAA6G,QAAA,CAAC,SAAO,CAAQ,CAAC,EAClC,CAAC,EACN,CAAC,cAGNpM,KAAA,QAAK4I,SAAS,CAAC,eAAe,CAAAwD,QAAA,eAC5BtM,IAAA,UAAO8I,SAAS,CAAC,iEAAiE,CAAAwD,QAAA,CAAC,OAEnF,CAAO,CAAC,cACRtM,IAAA,aACEuL,IAAI,CAAC,OAAO,CACZ4C,IAAI,CAAE,CAAE,CACRrF,SAAS,CAAC,YAAY,CACtBrD,KAAK,CAAEzC,aAAa,CAACoL,KAAM,CAC3BxB,QAAQ,CAAEtB,iBAAkB,CAC7B,CAAC,EACC,CAAC,EACH,CAAC,CAEL3J,eAAe,eACd3B,IAAA,QAAK8I,SAAS,CAAC,oHAAoH,CAAAwD,QAAA,CAChI3K,eAAe,CACb,CACN,cAEDzB,KAAA,QAAK4I,SAAS,CAAC,qEAAqE,CAAAwD,QAAA,eAClFpM,KAAA,WACEwM,IAAI,CAAC,QAAQ,CACb5D,SAAS,CAAC,4BAA4B,CACtCyE,QAAQ,CAAE9M,OAAQ,CAAA6L,QAAA,EAEjB7L,OAAO,cACNT,IAAA,QAAK8I,SAAS,CAAC,mFAAmF,CAAM,CAAC,CACvG,IAAI,CACPzE,cAAc,CAAG,eAAe,CAAG,YAAY,EAC1C,CAAC,cACTrE,IAAA,WACE0M,IAAI,CAAC,QAAQ,CACb5D,SAAS,CAAC,wBAAwB,CAClCgE,OAAO,CAAEA,CAAA,GAAM,CACb/J,eAAe,CAAC,KAAK,CAAC,CACtBuB,iBAAiB,CAAC,IAAI,CAAC,CACvBuJ,SAAS,CAAC,CAAC,CACb,CAAE,CAAAvB,QAAA,CACH,QAED,CAAQ,CAAC,EACN,CAAC,EACF,CAAC,EACJ,CAAC,CACH,CAAC,EACH,CAAC,CACH,CACN,CAGA1I,wBAAwB,eACvB5D,IAAA,QAAK8I,SAAS,CAAC,oCAAoC,CAAAwD,QAAA,cACjDpM,KAAA,QAAK4I,SAAS,CAAC,wFAAwF,CAAAwD,QAAA,eACrGtM,IAAA,QAAK8I,SAAS,CAAC,kCAAkC,CAAC,cAAY,MAAM,CAAAwD,QAAA,cAClEtM,IAAA,QAAK8I,SAAS,CAAC,+DAA+D,CAAM,CAAC,CAClF,CAAC,cACN9I,IAAA,SAAM8I,SAAS,CAAC,oDAAoD,CAAC,cAAY,MAAM,CAAAwD,QAAA,CAAC,QAAO,CAAM,CAAC,cACtGpM,KAAA,QAAK4I,SAAS,CAAC,sJAAsJ,CAAAwD,QAAA,eACnKtM,IAAA,QAAK8I,SAAS,CAAC,yDAAyD,CAAAwD,QAAA,cACtEpM,KAAA,QAAK4I,SAAS,CAAC,wBAAwB,CAAAwD,QAAA,eACrCtM,IAAA,QAAK8I,SAAS,CAAC,2IAA2I,CAAAwD,QAAA,cACxJtM,IAAA,CAACL,SAAS,EAACmJ,SAAS,CAAC,8CAA8C,CAAE,CAAC,CACnE,CAAC,cACN5I,KAAA,QAAK4I,SAAS,CAAC,+CAA+C,CAAAwD,QAAA,eAC5DtM,IAAA,OAAI8I,SAAS,CAAC,6DAA6D,CAAAwD,QAAA,CAAC,mBAE5E,CAAI,CAAC,cACLtM,IAAA,QAAK8I,SAAS,CAAC,MAAM,CAAAwD,QAAA,cACnBtM,IAAA,MAAG8I,SAAS,CAAC,0CAA0C,CAAAwD,QAAA,CAAC,2EAExD,CAAG,CAAC,CACD,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,cACNpM,KAAA,QAAK4I,SAAS,CAAC,2EAA2E,CAAAwD,QAAA,eACxFtM,IAAA,WACE0M,IAAI,CAAC,QAAQ,CACb5D,SAAS,CAAC,iBAAiB,CAC3BgE,OAAO,CAAElB,qBAAsB,CAAAU,QAAA,CAChC,WAED,CAAQ,CAAC,cACTtM,IAAA,WACE0M,IAAI,CAAC,QAAQ,CACb5D,SAAS,CAAC,WAAW,CACrBgE,OAAO,CAAEA,CAAA,GAAMjJ,2BAA2B,CAAC,KAAK,CAAE,CAAAyI,QAAA,CACnD,QAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,CACH,CACN,CAGAnI,aAAa,EAAIE,cAAc,eAC9BrE,IAAA,QAAK8I,SAAS,CAAC,+EAA+E,CAAAwD,QAAA,cAC5FtM,IAAA,QAAK8I,SAAS,CAAC,+GAA+G,CAAAwD,QAAA,cAC5HtM,IAAA,QAAK8I,SAAS,CAAC,uBAAuB,CAAAwD,QAAA,cACpCtM,IAAA,QAAK8I,SAAS,CAAC,wBAAwB,CAAAwD,QAAA,cACrCpM,KAAA,QAAK4I,SAAS,CAAC,8CAA8C,CAAAwD,QAAA,eAC3DtM,IAAA,OAAI8I,SAAS,CAAC,6DAA6D,CAAAwD,QAAA,CAAC,aAE5E,CAAI,CAAC,cACLtM,IAAA,QAAK8I,SAAS,CAAC,MAAM,CAAAwD,QAAA,cACnBpM,KAAA,SAAM4N,QAAQ,CAAE3B,kBAAmB,CAACrD,SAAS,CAAC,WAAW,CAAAwD,QAAA,eACvDpM,KAAA,QAAK4I,SAAS,CAAC,uCAAuC,CAAAwD,QAAA,eACpDpM,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,4DAA4D,CAAAwD,QAAA,CAAC,UAE9E,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,UAAU,CACf9F,KAAK,CAAEpB,cAAc,CAACnB,QAAS,CAC/B0J,QAAQ,CAAG3D,CAAC,EAAK3E,iBAAiB,CAAAuC,aAAA,CAAAA,aAAA,IAAKxC,cAAc,MAAEnB,QAAQ,CAAE+F,CAAC,CAACC,MAAM,CAACzD,KAAK,EAAC,CAAE,CAClFqD,SAAS,CAAC,gMAAgM,CAC1MiF,QAAQ,MACT,CAAC,EACC,CAAC,cACN7N,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,4DAA4D,CAAAwD,QAAA,CAAC,YAE9E,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,WAAW,CAChB9F,KAAK,CAAEpB,cAAc,CAAClB,SAAS,EAAIkB,cAAc,CAACyC,EAAE,EAAI,EAAG,CAC3D8F,QAAQ,CAAG3D,CAAC,EAAK3E,iBAAiB,CAAAuC,aAAA,CAAAA,aAAA,IAAKxC,cAAc,MAAElB,SAAS,CAAE8F,CAAC,CAACC,MAAM,CAACzD,KAAK,EAAC,CAAE,CACnFqD,SAAS,CAAC,gMAAgM,CAC1MiF,QAAQ,MACT,CAAC,EACC,CAAC,EACH,CAAC,cAEN7N,KAAA,QAAK4I,SAAS,CAAC,uCAAuC,CAAAwD,QAAA,eACpDpM,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,4DAA4D,CAAAwD,QAAA,CAAC,kBAE9E,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,iBAAiB,CACtB9F,KAAK,CAAEpB,cAAc,CAACpC,eAAgB,CACtC2K,QAAQ,CAAG3D,CAAC,EAAK3E,iBAAiB,CAAAuC,aAAA,CAAAA,aAAA,IAAKxC,cAAc,MAAEpC,eAAe,CAAEgH,CAAC,CAACC,MAAM,CAACzD,KAAK,EAAC,CAAE,CACzFqD,SAAS,CAAC,gMAAgM,CAC1MiF,QAAQ,MACT,CAAC,EACC,CAAC,cACN7N,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,4DAA4D,CAAAwD,QAAA,CAAC,QAE9E,CAAO,CAAC,cACRpM,KAAA,WACEqL,IAAI,CAAC,QAAQ,CACb9F,KAAK,CAAEpB,cAAc,CAACjC,MAAM,EAAIiC,cAAc,CAACjC,MAAM,CAACgK,WAAW,CAAC,CAAE,CACpEQ,QAAQ,CAAG3D,CAAC,EAAK3E,iBAAiB,CAAAuC,aAAA,CAAAA,aAAA,IAAKxC,cAAc,MAAEjC,MAAM,CAAE6G,CAAC,CAACC,MAAM,CAACzD,KAAK,CAAC2G,WAAW,CAAC,CAAC,EAAC,CAAE,CAC9FtD,SAAS,CAAC,gMAAgM,CAC1MiF,QAAQ,MAAAzB,QAAA,eAERtM,IAAA,WAAQyF,KAAK,CAAC,MAAM,CAAA6G,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClCtM,IAAA,WAAQyF,KAAK,CAAC,UAAU,CAAA6G,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC1CtM,IAAA,WAAQyF,KAAK,CAAC,KAAK,CAAA6G,QAAA,CAAC,KAAG,CAAQ,CAAC,EAC1B,CAAC,EACN,CAAC,EACH,CAAC,cAENpM,KAAA,QAAK4I,SAAS,CAAC,uCAAuC,CAAAwD,QAAA,eACpDpM,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,4DAA4D,CAAAwD,QAAA,CAAC,aAE9E,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,YAAY,CACjB9F,KAAK,CAAEpB,cAAc,CAACjB,UAAU,EAAI,EAAG,CACvCwJ,QAAQ,CAAG3D,CAAC,EAAK3E,iBAAiB,CAAAuC,aAAA,CAAAA,aAAA,IAAKxC,cAAc,MAAEjB,UAAU,CAAE6F,CAAC,CAACC,MAAM,CAACzD,KAAK,EAAC,CAAE,CACpFqD,SAAS,CAAC,gMAAgM,CAC3M,CAAC,EACC,CAAC,cACN5I,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,4DAA4D,CAAAwD,QAAA,CAAC,aAE9E,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,YAAY,CACjB9F,KAAK,CAAEpB,cAAc,CAAChB,UAAU,EAAI,EAAG,CACvCuJ,QAAQ,CAAG3D,CAAC,EAAK3E,iBAAiB,CAAAuC,aAAA,CAAAA,aAAA,IAAKxC,cAAc,MAAEhB,UAAU,CAAE4F,CAAC,CAACC,MAAM,CAACzD,KAAK,EAAC,CAAE,CACpFqD,SAAS,CAAC,gMAAgM,CAC3M,CAAC,EACC,CAAC,EACH,CAAC,cAEN5I,KAAA,QAAK4I,SAAS,CAAC,uCAAuC,CAAAwD,QAAA,eACpDpM,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,4DAA4D,CAAAwD,QAAA,CAAC,kBAE9E,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,iBAAiB,CACtB9F,KAAK,CAAEpB,cAAc,CAACf,eAAe,EAAI,EAAG,CAC5CsJ,QAAQ,CAAG3D,CAAC,EAAK3E,iBAAiB,CAAAuC,aAAA,CAAAA,aAAA,IAAKxC,cAAc,MAAEf,eAAe,CAAE2F,CAAC,CAACC,MAAM,CAACzD,KAAK,EAAC,CAAE,CACzFqD,SAAS,CAAC,gMAAgM,CAC3M,CAAC,EACC,CAAC,cACN5I,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,4DAA4D,CAAAwD,QAAA,CAAC,mBAE9E,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,kBAAkB,CACvB9F,KAAK,CAAEpB,cAAc,CAAClC,gBAAgB,EAAI,EAAG,CAC7CyK,QAAQ,CAAG3D,CAAC,EAAK3E,iBAAiB,CAAAuC,aAAA,CAAAA,aAAA,IAAKxC,cAAc,MAAElC,gBAAgB,CAAE8G,CAAC,CAACC,MAAM,CAACzD,KAAK,EAAC,CAAE,CAC1FqD,SAAS,CAAC,gMAAgM,CAC3M,CAAC,EACC,CAAC,EACH,CAAC,cAEN5I,KAAA,QAAK4I,SAAS,CAAC,uCAAuC,CAAAwD,QAAA,eACpDpM,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,4DAA4D,CAAAwD,QAAA,CAAC,UAE9E,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,UAAU,CACf9F,KAAK,CAAEpB,cAAc,CAACnC,QAAQ,EAAI,EAAG,CACrC0K,QAAQ,CAAG3D,CAAC,EAAK3E,iBAAiB,CAAAuC,aAAA,CAAAA,aAAA,IAAKxC,cAAc,MAAEnC,QAAQ,CAAE+G,CAAC,CAACC,MAAM,CAACzD,KAAK,EAAC,CAAE,CAClFqD,SAAS,CAAC,gMAAgM,CAC3M,CAAC,EACC,CAAC,cACN5I,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,4DAA4D,CAAAwD,QAAA,CAAC,cAE9E,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,cAAc,CACnB9F,KAAK,CAAEpB,cAAc,CAACZ,YAAY,EAAI,EAAG,CACzCmJ,QAAQ,CAAG3D,CAAC,EAAK3E,iBAAiB,CAAAuC,aAAA,CAAAA,aAAA,IAAKxC,cAAc,MAAEZ,YAAY,CAAEwF,CAAC,CAACC,MAAM,CAACzD,KAAK,EAAC,CAAE,CACtFqD,SAAS,CAAC,gMAAgM,CAC3M,CAAC,EACC,CAAC,EACH,CAAC,cAEN5I,KAAA,QAAK4I,SAAS,CAAC,uCAAuC,CAAAwD,QAAA,eACpDpM,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,4DAA4D,CAAAwD,QAAA,CAAC,KAE9E,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,KAAK,CACV9F,KAAK,CAAEpB,cAAc,CAACX,GAAG,EAAI,EAAG,CAChCkJ,QAAQ,CAAG3D,CAAC,EAAK3E,iBAAiB,CAAAuC,aAAA,CAAAA,aAAA,IAAKxC,cAAc,MAAEX,GAAG,CAAEuF,CAAC,CAACC,MAAM,CAACzD,KAAK,EAAC,CAAE,CAC7EqD,SAAS,CAAC,gMAAgM,CAC3M,CAAC,EACC,CAAC,cACN5I,KAAA,QAAAoM,QAAA,eACEtM,IAAA,UAAO8I,SAAS,CAAC,4DAA4D,CAAAwD,QAAA,CAAC,KAE9E,CAAO,CAAC,cACRtM,IAAA,UACE0M,IAAI,CAAC,MAAM,CACXnB,IAAI,CAAC,KAAK,CACV9F,KAAK,CAAEpB,cAAc,CAACV,GAAG,EAAI,EAAG,CAChCiJ,QAAQ,CAAG3D,CAAC,EAAK3E,iBAAiB,CAAAuC,aAAA,CAAAA,aAAA,IAAKxC,cAAc,MAAEV,GAAG,CAAEsF,CAAC,CAACC,MAAM,CAACzD,KAAK,EAAC,CAAE,CAC7EqD,SAAS,CAAC,gMAAgM,CAC3M,CAAC,EACC,CAAC,EACH,CAAC,cAEN5I,KAAA,QAAK4I,SAAS,CAAC,0CAA0C,CAAAwD,QAAA,eACvDtM,IAAA,WACE0M,IAAI,CAAC,QAAQ,CACb5D,SAAS,CAAC,+MAA+M,CAAAwD,QAAA,CAC1N,cAED,CAAQ,CAAC,cACTtM,IAAA,WACE0M,IAAI,CAAC,QAAQ,CACbI,OAAO,CAAEA,CAAA,GAAM1I,gBAAgB,CAAC,KAAK,CAAE,CACvC0E,SAAS,CAAC,4RAA4R,CAAAwD,QAAA,CACvS,QAED,CAAQ,CAAC,EACN,CAAC,EACF,CAAC,CACJ,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CACN,CAGA/H,sBAAsB,EAAIF,cAAc,eACvCrE,IAAA,QAAK8I,SAAS,CAAC,oCAAoC,CAAAwD,QAAA,cACjDpM,KAAA,QAAK4I,SAAS,CAAC,wFAAwF,CAAAwD,QAAA,eACrGtM,IAAA,QAAK8I,SAAS,CAAC,kCAAkC,CAAC,cAAY,MAAM,CAAAwD,QAAA,cAClEtM,IAAA,QAAK8I,SAAS,CAAC,+DAA+D,CAAM,CAAC,CAClF,CAAC,cACN9I,IAAA,SAAM8I,SAAS,CAAC,oDAAoD,CAAC,cAAY,MAAM,CAAAwD,QAAA,CAAC,QAAO,CAAM,CAAC,cACtGpM,KAAA,QAAK4I,SAAS,CAAC,sJAAsJ,CAAAwD,QAAA,eACnKtM,IAAA,QAAK8I,SAAS,CAAC,yDAAyD,CAAAwD,QAAA,cACtEpM,KAAA,QAAK4I,SAAS,CAAC,wBAAwB,CAAAwD,QAAA,eACrCtM,IAAA,QAAK8I,SAAS,CAAC,2IAA2I,CAAAwD,QAAA,cACxJtM,IAAA,CAACL,SAAS,EAACmJ,SAAS,CAAC,8CAA8C,CAAE,CAAC,CACnE,CAAC,cACN5I,KAAA,QAAK4I,SAAS,CAAC,+CAA+C,CAAAwD,QAAA,eAC5DtM,IAAA,OAAI8I,SAAS,CAAC,6DAA6D,CAAAwD,QAAA,CAAC,eAE5E,CAAI,CAAC,cACLtM,IAAA,QAAK8I,SAAS,CAAC,MAAM,CAAAwD,QAAA,cACnBpM,KAAA,MAAG4I,SAAS,CAAC,0CAA0C,CAAAwD,QAAA,EAAC,kCACtB,cAAAtM,IAAA,SAAM8I,SAAS,CAAC,eAAe,CAAAwD,QAAA,CAAEjI,cAAc,CAACnB,QAAQ,CAAO,CAAC,kCAClG,EAAG,CAAC,CACD,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,cACNhD,KAAA,QAAK4I,SAAS,CAAC,2EAA2E,CAAAwD,QAAA,eACxFtM,IAAA,WACE0M,IAAI,CAAC,QAAQ,CACb5D,SAAS,CAAC,iBAAiB,CAC3BgE,OAAO,CAAEd,kBAAmB,CAAAM,QAAA,CAC7B,QAED,CAAQ,CAAC,cACTtM,IAAA,WACE0M,IAAI,CAAC,QAAQ,CACb5D,SAAS,CAAC,WAAW,CACrBgE,OAAO,CAAEA,CAAA,GAAMtI,yBAAyB,CAAC,KAAK,CAAE,CAAA8H,QAAA,CACjD,QAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnM,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}